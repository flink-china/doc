<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Apache Flink 1.5.1 Documentation: Table API</title>
    <link rel="shortcut icon" href="//flink-china.org/doc/blink/page/favicon.ico" type="image/x-icon">
    <link rel="icon" href="//flink-china.org/doc/blink/page/favicon.ico" type="image/x-icon">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="//flink-china.org/doc/blink/page/css/flink.css">
    <link rel="stylesheet" href="//flink-china.org/doc/blink/page/css/syntax.css">
    <link rel="stylesheet" href="//flink-china.org/doc/blink/page/css/codetabs.css">
    <link rel="stylesheet" href="//flink-china.org/doc/blink/page/font-awesome/css/font-awesome.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    

    <!-- Main content. -->
    <div class="container">
      
      <div class="row">
        <div class="col-lg-3" id="sidenavcol">
          







  
    
    
    
      
    
  

  
    
    
    
      
    
  

  
    
    
    
      













<div class="sidenav-logo">
  <p><a href="//flink-china.org/doc/blink"><img class="bottom" alt="Apache Flink" src="//flink-china.org/doc/blink/page/img/navbar-brand-logo.jpg"></a> v1.5.1</p>
</div>
<ul id="sidenav">

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/"><i class="fa fa-home title" aria-hidden="true"></i> Home</a></li>
    
  

  
    

    

    
    
    

    <hr class="section-break"></hr>

    
    
      
      
        
        
<li><a href="#collapse-2" data-toggle="collapse"><i class="fa fa-map-o title appetizer" aria-hidden="true"></i> Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-2"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//flink-china.org/doc/blink/concepts/programming-model.html">Programming Model</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/concepts/runtime.html">Distributed Runtime</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-6" data-toggle="collapse"><i class="fa fa-power-off title appetizer" aria-hidden="true"></i> Tutorials <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-6"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-7" data-toggle="collapse">API Tutorials <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-7"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/tutorials/datastream_api.html">DataStream API</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-10" data-toggle="collapse">Setup Tutorials <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-10"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/tutorials/local_setup.html">Local Setup</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/tutorials/flink_on_windows.html">Running Flink on Windows</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/setup_quickstart.html"><i class="fa fa-power-off title appetizer" aria-hidden="true"></i> Quickstart</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-16" data-toggle="collapse"><i class="fa fa-file-code-o title appetizer" aria-hidden="true"></i> Examples <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-16"><ul>
  <li><a href="//flink-china.org/doc/blink/examples/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/examples.html">DataStream Examples</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/examples.html">DataSet Examples</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/stream_sql_quickstart.html">Stream SQL Examples</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/batch_sql_quickstart.html">Batch SQL Examples</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/scala_shell_quickstart.html">Scala Shell Examples</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/zeppelin_quickstart.html">Flink on Zeppelin Examples</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/examples.html">Flink-Hive Examples</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    <hr class="section-break"></hr>

    
    
      
      
        
        
<li><a href="#collapse-25" data-toggle="collapse"><i class="fa fa-cogs title maindish" aria-hidden="true"></i> Project Setup <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-25"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/java_api_quickstart.html">Project Template for Java</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/quickstart/scala_api_quickstart.html">Project Template for Scala</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/start/dependencies.html">Configuring Dependencies, Connectors, Libraries</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/ide_setup.html">IDE Setup</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/scala_shell.html">Scala Shell</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/start/flink_on_windows.html">Running Flink on Windows</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/start/building.html">Building Flink from Source</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-34" data-toggle="collapse" class="active"><i class="fa fa-code title maindish" aria-hidden="true"></i> Application Development</a><div class="collapse in" id="collapse-34"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-35" data-toggle="collapse">Basic API Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-35"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/api_concepts.html">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/scala_api_extensions.html">Scala API Extensions</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/java8.html">Java 8</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-39" data-toggle="collapse">Streaming (DataStream API) <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-39"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/datastream_api.html">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-40" data-toggle="collapse">Event Time <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-40"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/event_time.html">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/event_timestamps_watermarks.html">Generating Timestamps / Watermarks</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/event_timestamp_extractors.html">Pre-defined Timestamp Extractors / Watermark Emitters</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-44" data-toggle="collapse">State & Fault Tolerance <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-44"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/stream/state/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/state/state.html">Working with State</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/state/broadcast_state.html">The Broadcast State Pattern</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/state/checkpointing.html">Checkpointing</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/state/queryable_state.html">Queryable State</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/state/state_backends.html">State Backends</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/state/custom_serialization.html">Custom Serialization</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-52" data-toggle="collapse">Operators <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-52"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/stream/operators/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//flink-china.org/doc/blink/dev/stream/operators/windows.html">Windows</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/operators/process_function.html">Process Function</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/operators/asyncio.html">Async I/O</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-57" data-toggle="collapse">Connectors <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-57"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/connectors/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/guarantees.html">Fault Tolerance Guarantees</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/kafka.html">Kafka</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/cassandra.html">Cassandra</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/kinesis.html">Kinesis</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/elasticsearch.html">Elasticsearch</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/filesystem_sink.html">Rolling File Sink</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/rabbitmq.html">RabbitMQ</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/nifi.html">NiFi</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/connectors/twitter.html">Twitter</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/side_output.html">Side Outputs</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/stream/python.html">Python API</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//flink-china.org/doc/blink/dev/stream/testing.html">Testing</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//flink-china.org/doc/blink/dev/stream/experimental.html">Experimental Features</a></li>
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-73" data-toggle="collapse">Batch (DataSet API) <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-73"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/batch/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/dataset_transformations.html">Transformations</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/fault_tolerance.html">Fault Tolerance</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/zip_elements_guide.html">Zipping Elements</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/iterations.html">Iterations</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/python.html">Python API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/connectors.html">Connectors</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/batch/hadoop_compatibility.html">Hadoop Compatibility</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/local_execution.html">Local Execution</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/cluster_execution.html">Cluster Execution</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-84" data-toggle="collapse" class="active">Table API & SQL</a><div class="collapse in" id="collapse-84"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/table/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/common.html">Concepts & Common API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/hive_compatibility.html">Hive Compatibility</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-87" data-toggle="collapse">Streaming Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-87"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/table/streaming/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming/dynamic_tables.html">Dynamic Tables</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming/time_attributes.html">Time Attributes</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming/joins.html">Joins in Continuous Queries</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming/temporal_tables.html">Temporal Tables</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming/match_recognize.html">Detecting Patterns</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming/query_configuration.html">Query Configuration</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/tableApi.html" class="active">Table API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/sql.html">SQL</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/supported_ddl.html">SQL Sources & Sinks</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/sourceSinks.html">Table Sources & Sinks</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/udfs.html">User-defined Functions</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/sqlClient.html">SQL Client</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/resource.html">SQL Resource</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/catalog.html">Catalog</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/streaming_optimization.html">Streaming Aggregation Optimization</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/table/multiple_tablesink_optimization.html">Multiple TableSink Optimization</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-106" data-toggle="collapse">Data Types & Serialization <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-106"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/types_serialization.html">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/custom_serializers.html">Custom Serializers</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-109" data-toggle="collapse">Managing Execution <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-109"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/execution_configuration.html">Execution Configuration</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/packaging.html">Program Packaging</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/parallel.html">Parallel Execution</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/execution_plans.html">Execution Plans</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/restart_strategies.html">Restart Strategies</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-116" data-toggle="collapse">Libraries <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-116"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/cep.html">Event Processing (CEP)</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-118" data-toggle="collapse">Graphs: Gelly <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-118"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/libs/gelly/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/gelly/graph_api.html">Graph API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/gelly/iterative_graph_processing.html">Iterative Graph Processing</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/gelly/library_methods.html">Library Methods</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/gelly/graph_algorithms.html">Graph Algorithms</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/gelly/graph_generators.html">Graph Generators</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/gelly/bipartite_graph.html">Bipartite Graph</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-126" data-toggle="collapse">Machine Learning <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-126"><ul>
  <li><a href="//flink-china.org/doc/blink/dev/libs/ml/">Overview</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/quickstart.html">Quickstart</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/contribution_guide.html">How to Contribute</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/cross_validation.html">Cross Validation</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/distance_metrics.html">Distance Metrics</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/knn.html">k-Nearest Neighbors Join</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/min_max_scaler.html">MinMax Scaler</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/multiple_linear_regression.html">Multiple Linear Regression</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/pipelines.html">Pipelines</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/polynomial_features.html">Polynomial Features</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/sos.html">Stochastic Outlier Selection</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/standard_scaler.html">Standard Scaler</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/als.html">ALS</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/libs/ml/svm.html">SVM using CoCoA</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/best_practices.html">Best Practices</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/dev/migration.html">API Migration Guides</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-145" data-toggle="collapse"><i class="fa fa-sliders title maindish" aria-hidden="true"></i> Deployment & Operations <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-145"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-146" data-toggle="collapse">Clusters & Deployment <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-146"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/cluster_setup.html">Standalone Cluster</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/yarn_setup.html">YARN</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/mesos.html">Mesos</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/kubernetes.html">Kubernetes</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/docker.html">Docker</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/aws.html">AWS</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/gce_setup.html">Google Compute Engine</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/mapr_setup.html">MapR</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/deployment/hadoop.html">Hadoop Integration</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-157" data-toggle="collapse">High Availability (HA) <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-157"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/ha/jobmanager_high_availability.html">JobManager High Availability (HA)</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/ha/jobmanager_failover.html">JobManager Failover</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-161" data-toggle="collapse">State & Fault Tolerance <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-161"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/state/checkpoints.html">Checkpoints</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/state/savepoints.html">Savepoints</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/state/state_backends.html">State Backends</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/state/large_state_tuning.html">Tuning Checkpoints and Large State</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//flink-china.org/doc/blink/ops/config.html">Configuration</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/production_ready.html">Production Readiness Checklist</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/cli.html">CLI</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/security-kerberos.html">Kerberos</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/security-ssl.html">SSL Setup</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/zeppelin.html">Flink on Zeppelin</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/filesystems.html">File Systems</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/ops/upgrading.html">Upgrading Applications and Flink Versions</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-176" data-toggle="collapse"><i class="fa fa-bug title maindish" aria-hidden="true"></i> Debugging & Monitoring <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-176"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/metrics.html">Metrics</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/logging.html">Logging</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/historyserver.html">History Server</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/checkpoint_monitoring.html">Monitoring Checkpointing</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/back_pressure.html">Monitoring Back Pressure</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/rest_api.html">Monitoring REST API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/debugging_event_time.html">Debugging Windows & Event Time</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/debugging_classloading.html">Debugging Classloading</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/application_profiling.html">Application Profiling</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/monitoring/debugging_job_resources.html">Debugging Job Resources</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    <hr class="section-break"></hr>

    
    
      
      
        
        
<li><a href="#collapse-188" data-toggle="collapse"><i class="fa fa-book title dessert" aria-hidden="true"></i> Internals <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-188"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/components.html">Component Stack</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/stream_checkpointing.html">Fault Tolerance for Data Streaming</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/job_scheduling.html">Jobs and Scheduling</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/task_lifecycle.html">Task Lifecycle</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/taskmanager_resource.html">TaskManager Resource</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//flink-china.org/doc/blink/internals/filesystems.html">File Systems</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
</ul>

<div class="sidenav-search-box">
  <form class="navbar-form" role="search" action="//flink-china.org/doc/blink/search-results.html">
    <div class="form-group">
      <input type="text" class="form-control" size="16px" name="q" placeholder="Search">
    </div>
    <button type="submit" class="btn btn-default">Go</button>
  </form>
</div>

<div class="sidenav-versions">
  <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Pick Docs Version
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.4">v1.4</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.3">v1.3</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.2">v1.2</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.1">v1.1</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.0">v1.0</a></li>
      
    </ul>
  </div>
</div>

        </div>
        <div class="col-lg-9 content" id="contentcol">
          

          





  
  
    
    
      
    
  

  
  
    
    
      
    
  

  
  
    
    
      



<ol class="breadcrumb">

  
  
    <li><i class="fa fa-code title maindish" aria-hidden="true"></i> Application Development</li>
  

  
  
    <li><a href="//flink-china.org/doc/blink/dev/table/">Table API & SQL</a></li>
  

  
  
    <li class="active">Table API</li>
  

</ol>

<h1>Table API</h1>




<p>The Table API is a unified, relational API for stream and batch processing. Table API queries can be run on batch or streaming input without modifications. The Table API is a super set of the SQL language and is specially designed for working with Apache Flink. The Table API is a language-integrated API for Scala and Java. Instead of specifying queries as String values as common with SQL, Table API queries are defined in a language-embedded style in Java or Scala with IDE support like autocompletion and syntax validation.</p>

<p>The Table API shares many concepts and parts of its API with Flinkâ€™s SQL integration. Have a look at the <a href="//flink-china.org/doc/blink/dev/table/common.html">Common Concepts &amp; API</a> to learn how to register tables or to create a <code class="highlighter-rouge">Table</code> object. The <a href="//flink-china.org/doc/blink/dev/table/streaming.html">Streaming Concepts</a> page discusses streaming specific concepts such as dynamic tables and time attributes.</p>

<p>The following examples assume a registered table called <code class="highlighter-rouge">Orders</code> with attributes <code class="highlighter-rouge">(a, b, c, rowtime)</code>. The <code class="highlighter-rouge">rowtime</code> field is either a logical <a href="streaming.html#time-attributes">time attribute</a> in streaming or a regular timestamp field in batch.</p>

<ul id="markdown-toc">
  <li><a href="#overview--examples" id="markdown-toc-overview--examples">Overview &amp; Examples</a></li>
  <li><a href="#operations" id="markdown-toc-operations">Operations</a>    <ul>
      <li><a href="#scan-projection-and-filter" id="markdown-toc-scan-projection-and-filter">Scan, Projection, and Filter</a></li>
      <li><a href="#aggregations" id="markdown-toc-aggregations">Aggregations</a></li>
      <li><a href="#joins" id="markdown-toc-joins">Joins</a></li>
      <li><a href="#set-operations" id="markdown-toc-set-operations">Set Operations</a></li>
      <li><a href="#orderby-offset--fetch" id="markdown-toc-orderby-offset--fetch">OrderBy, Offset &amp; Fetch</a></li>
      <li><a href="#insert" id="markdown-toc-insert">Insert</a></li>
      <li><a href="#group-windows" id="markdown-toc-group-windows">Group Windows</a></li>
      <li><a href="#over-windows" id="markdown-toc-over-windows">Over Windows</a></li>
    </ul>
  </li>
  <li><a href="#data-types" id="markdown-toc-data-types">Data Types</a></li>
  <li><a href="#expression-syntax" id="markdown-toc-expression-syntax">Expression Syntax</a></li>
  <li><a href="#built-in-functions" id="markdown-toc-built-in-functions">Built-In Functions</a>    <ul>
      <li><a href="#unsupported-functions" id="markdown-toc-unsupported-functions">Unsupported Functions</a></li>
    </ul>
  </li>
  <li><a href="#cached-table-and-interactive-programming" id="markdown-toc-cached-table-and-interactive-programming">Cached Table and Interactive Programming</a>    <ul>
      <li><a href="#cache-a-table" id="markdown-toc-cache-a-table">Cache a Table</a></li>
    </ul>
  </li>
</ul>

<h2 id="overview--examples">Overview &amp; Examples</h2>

<p>The Table API is available for Scala and Java. The Scala Table API leverages on Scala expressions, the Java Table API is based on strings which are parsed and converted into equivalent expressions.</p>

<p>The following example shows the differences between the Scala and Java Table API. The table program is executed in a batch environment. It scans the <code class="highlighter-rouge">Orders</code> table, groups by field <code class="highlighter-rouge">a</code>, and counts the resulting rows per group. The result of the table program is converted into a bounded <code class="highlighter-rouge">DataStream</code> of type <code class="highlighter-rouge">Row</code> and printed.</p>

<div class="codetabs">
  <div data-lang="java">

    <p>The Java Table API is enabled by importing <code class="highlighter-rouge">org.apache.flink.table.api.java.*</code>. The following example shows how a Java Table API program is constructed and how expressions are specified as strings.</p>

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// environment configuration</span>
<span class="n">StreamExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">StreamExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getBatchTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// register Orders table in table environment</span>
<span class="c1">// ...</span>

<span class="c1">// specify table program</span>
<span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span> <span class="c1">// schema (a, b, c, rowtime)</span>

<span class="n">orders</span>
    <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.count as cnt"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">print</span><span class="o">();</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <p>The Scala Table API is enabled by importing <code class="highlighter-rouge">org.apache.flink.api.scala._</code> and <code class="highlighter-rouge">org.apache.flink.table.api.scala._</code>.</p>

    <p>The following example shows how a Scala Table API program is constructed. Table attributes are referenced using <a href="http://scala-lang.org/files/archive/spec/2.12/01-lexical-syntax.html#symbol-literals">Scala Symbols</a>, which start with an apostrophe character (<code class="highlighter-rouge">'</code>).</p>

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.flink.api.scala._</span>
<span class="k">import</span> <span class="nn">org.apache.flink.table.api.scala._</span>

<span class="c1">// environment configuration
</span><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getBatchTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// register Orders table in table environment
// ...
</span>
<span class="c1">// specify table program
</span><span class="k">val</span> <span class="n">orders</span> <span class="k">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span> <span class="c1">// schema (a, b, c, rowtime)
</span>
<span class="n">orders</span>
    <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'a)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">count</span> <span class="n">as</span> <span class="ss">'cnt)</span>
    <span class="o">.</span><span class="n">print</span><span class="o">()</span></code></pre></figure>

  </div>
</div>

<p>The next example shows a more complex Table API program. The program scans again the <code class="highlighter-rouge">Orders</code> table. It filters null values, normalizes the field <code class="highlighter-rouge">a</code> of type String, and calculates for each hour and product <code class="highlighter-rouge">a</code> the average billing amount <code class="highlighter-rouge">b</code>.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// environment configuration</span>
<span class="c1">// ...</span>

<span class="c1">// specify table program</span>
<span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span> <span class="c1">// schema (a, b, c, rowtime)</span>

<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">"a.isNotNull &amp;&amp; b.isNotNull &amp;&amp; c.isNotNull"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a.lowerCase(), b, rowtime"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"1.hour"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"hourlyWindow"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"hourlyWindow, a"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, hourlyWindow.end as hour, b.avg as avgBillingAmount"</span><span class="o">);</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// environment configuration
// ...
</span>
<span class="c1">// specify table program
</span><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span> <span class="c1">// schema (a, b, c, rowtime)
</span>
<span class="k">val</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">orders</span>
        <span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="ss">'a.</span><span class="n">isNotNull</span> <span class="o">&amp;&amp;</span> <span class="ss">'b.</span><span class="n">isNotNull</span> <span class="o">&amp;&amp;</span> <span class="ss">'c.</span><span class="n">isNotNull</span><span class="o">)</span>
        <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a.</span><span class="n">lowerCase</span><span class="o">(),</span> <span class="ss">'b,</span> <span class="ss">'rowtime)</span>
        <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">1.</span><span class="n">hour</span> <span class="n">on</span> <span class="ss">'rowtime </span><span class="n">as</span> <span class="ss">'hourlyWindow)</span>
        <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'hourlyWindow,</span> <span class="ss">'a)</span>
        <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'hourlyWindow.</span><span class="n">end</span> <span class="n">as</span> <span class="ss">'hour,</span> <span class="ss">'b.</span><span class="n">avg</span> <span class="n">as</span> <span class="ss">'avgBillingAmount)</span></code></pre></figure>

  </div>
</div>

<p>Since the Table API is a unified API for batch and streaming data, both example programs can be executed on batch and streaming inputs without any modification of the table program itself. In both cases, the program produces the same results given that streaming records are not late (see <a href="streaming.html">Streaming Concepts</a> for details).</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="operations">Operations</h2>

<p>The Table API supports the following operations. Please note that not all operations are available in both batch and streaming yet; they are tagged accordingly.</p>

<h3 id="scan-projection-and-filter">Scan, Projection, and Filter</h3>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
  	<tr>
  		<td>
        <strong>Scan</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
  		<td>
        <p>Similar to the FROM clause in a SQL query. Performs a scan of a registered table.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span></code></pre></figure>

      </td>
  	</tr>
    <tr>
      <td>
        <strong>Select</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to a SQL SELECT statement. Performs a select operation.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, c as d"</span><span class="o">);</span></code></pre></figure>

        <p>You can use star (<code>*</code>) to act as a wild card, selecting all of the columns in the table.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"*"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>As</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Renames fields.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">"x, y, z, t"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Where / Filter</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to a SQL WHERE clause. Filters out rows that do not pass the filter predicate.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="s">"b === 'red'"</span><span class="o">);</span></code></pre></figure>

or

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">"a % 2 === 0"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>
  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
  	<tr>
  		<td>
        <strong>Scan</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
  		<td>
        <p>Similar to the FROM clause in a SQL query. Performs a scan of a registered table.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span></code></pre></figure>

      </td>
  	</tr>
  	<tr>
      <td>
        <strong>Select</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to a SQL SELECT statement. Performs a select operation.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'c </span><span class="n">as</span> <span class="ss">'d)</span></code></pre></figure>

        <p>You can use star (<code>*</code>) to act as a wild card, selecting all of the columns in the table.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span><span class="o">.</span><span class="n">select</span><span class="o">('*)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>As</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Renames fields.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">).</span><span class="n">as</span><span class="o">(</span><span class="ss">'x,</span> <span class="ss">'y,</span> <span class="ss">'z,</span> <span class="ss">'t)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Where / Filter</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to a SQL WHERE clause. Filters out rows that do not pass the filter predicate.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="ss">'a </span><span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="o">)</span></code></pre></figure>

or

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span><span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="ss">'b </span><span class="o">===</span> <span class="s">"red"</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>
  </tbody>
</table>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="aggregations">Aggregations</h3>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>GroupBy Aggregation</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span><br />
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to a SQL GROUP BY clause. Groups the rows on the grouping keys with a following running aggregation operator to aggregate rows group-wise.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.sum as d"</span><span class="o">);</span></code></pre></figure>

        <p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the type of aggregation and the number of distinct grouping keys. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
    <tr>
    	<td>
        <strong>GroupBy Window Aggregation</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
    	<td>
        <p>Groups and aggregates a table on a <a href="#group-windows">group window</a> and possibly one or more grouping keys.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"5.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span> <span class="c1">// define window</span>
    <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"a, w"</span><span class="o">)</span> <span class="c1">// group by key and window</span>
    <span class="c1">// access window properties and aggregate</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, w.start, w.end, w.rowtime, b.sum as d"</span><span class="o">);</span> </code></pre></figure>

      </td>
    </tr>
    <tr>
    	<td>
        <strong>Over Window Aggregation</strong><br />
        <span class="label label-primary">Streaming</span>
      </td>
      <td>
       <p>Similar to a SQL OVER clause. Over window aggregates are computed for each row, based on a window (range) of preceding and succeeding rows. See the <a href="#over-windows">over windows section</a> for more details.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="c1">// define window</span>
    <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span>  
      <span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">)</span>
      <span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">)</span>
      <span class="o">.</span><span class="na">preceding</span><span class="o">(</span><span class="s">"UNBOUNDED_RANGE"</span><span class="o">)</span>
      <span class="o">.</span><span class="na">following</span><span class="o">(</span><span class="s">"CURRENT_RANGE"</span><span class="o">)</span>
      <span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.avg over w, b.max over w, b.min over w"</span><span class="o">);</span> </code></pre></figure>

       <p><b>Note:</b> All aggregates must be defined over the same window, i.e., same partitioning, sorting, and range. Currently, only windows with PRECEDING (UNBOUNDED and bounded) to CURRENT ROW range are supported. Ranges with FOLLOWING are not supported yet. ORDER BY must be specified on a single <a href="streaming.html#time-attributes">time attribute</a>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <strong>Distinct Aggregation</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span> <br />
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to a SQL DISTINCT aggregation clause such as COUNT(DISTINCT a). Distinct aggregation declares that an aggregation function (built-in or user-defined) is only applied on distinct input values. Distinct can be applied to <b>GroupBy Aggregation</b>, <b>GroupBy Window Aggregation</b> and <b>Over Window Aggregation</b>.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="c1">// Distinct aggregation on group by</span>
<span class="n">Table</span> <span class="n">groupByDistinctResult</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.sum.distinct as d"</span><span class="o">);</span>
<span class="c1">// Distinct aggregation on time window group by</span>
<span class="n">Table</span> <span class="n">groupByWindowDistinctResult</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"5.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">)).</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"a, w"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.sum.distinct as d"</span><span class="o">);</span>
<span class="c1">// Distinct aggregation on over window</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span>
        <span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">preceding</span><span class="o">(</span><span class="s">"UNBOUNDED_RANGE"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.avg.distinct over w, b.max over w, b.min over w"</span><span class="o">);</span></code></pre></figure>

        <p>User-defined aggregation function can also be used with DISTINCT modifiers. To calculate the aggregate results only for distinct values, simply add the distinct modifier towards the aggregation function. </p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>

<span class="c1">// Use distinct aggregation for user-defined aggregate functions</span>
<span class="n">tEnv</span><span class="o">.</span><span class="na">registerFunction</span><span class="o">(</span><span class="s">"myUdagg"</span><span class="o">,</span> <span class="k">new</span> <span class="n">MyUdagg</span><span class="o">());</span>
<span class="n">orders</span><span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"users"</span><span class="o">)</span>
<span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"users, myUdagg.distinct(points) as myDistinctResult"</span><span class="o">);</span></code></pre></figure>

        <p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct fields. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
    <tr>
      <td>
        <strong>Distinct</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span> <br />
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to a SQL DISTINCT clause. Returns records with distinct value combinations.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span><span class="o">.</span><span class="na">distinct</span><span class="o">();</span></code></pre></figure>

        <p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct fields. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>

    <tr>
      <td>
        <strong>GroupBy Aggregation</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span><br />
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to a SQL GROUP BY clause. Groups the rows on the grouping keys with a following running aggregation operator to aggregate rows group-wise.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span><span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'a)</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">sum</span> <span class="n">as</span> <span class="ss">'d)</span></code></pre></figure>

        <p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the type of aggregation and the number of distinct grouping keys. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
    <tr>
    	<td>
        <strong>GroupBy Window Aggregation</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
    	<td>
        <p>Groups and aggregates a table on a <a href="#group-windows">group window</a> and possibly one or more grouping keys.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'rowtime </span><span class="n">as</span> <span class="ss">'w)</span> <span class="c1">// define window
</span>    <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'w)</span> <span class="c1">// group by key and window
</span>    <span class="c1">// access window properties and aggregate
</span>    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="n">w</span><span class="o">.</span><span class="n">start</span><span class="o">,</span> <span class="ss">'w.</span><span class="n">end</span><span class="o">,</span> <span class="ss">'w.</span><span class="n">rowtime</span><span class="o">,</span> <span class="ss">'b.</span><span class="n">sum</span> <span class="n">as</span> <span class="ss">'d)</span> </code></pre></figure>

      </td>
    </tr>
    <tr>
    	<td>
        <strong>Over Window Aggregation</strong><br />
        <span class="label label-primary">Streaming</span>
      </td>
    	<td>
       <p>Similar to a SQL OVER clause. Over window aggregates are computed for each row, based on a window (range) of preceding and succeeding rows. See the <a href="#over-windows">over windows section</a> for more details.</p>
       
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="c1">// define window
</span>    <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span>  
      <span class="n">partitionBy</span> <span class="ss">'a
</span>      <span class="n">orderBy</span> <span class="ss">'rowtime
</span>      <span class="n">preceding</span> <span class="nc">UNBOUNDED_RANGE</span>
      <span class="n">following</span> <span class="nc">CURRENT_RANGE</span>
      <span class="n">as</span> <span class="ss">'w)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">avg</span> <span class="n">over</span> <span class="ss">'w,</span> <span class="ss">'b.</span><span class="n">max</span> <span class="n">over</span> <span class="ss">'w,</span> <span class="ss">'b.</span><span class="n">min</span> <span class="n">over</span> <span class="ss">'w)</span></code></pre></figure>

       <p><b>Note:</b> All aggregates must be defined over the same window, i.e., same partitioning, sorting, and range. Currently, only windows with PRECEDING (UNBOUNDED and bounded) to CURRENT ROW range are supported. Ranges with FOLLOWING are not supported yet. ORDER BY must be specified on a single <a href="streaming.html#time-attributes">time attribute</a>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <strong>Distinct Aggregation</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span> <br />
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to a SQL DISTINCT AGGREGATION clause such as COUNT(DISTINCT a). Distinct aggregation declares that an aggregation function (built-in or user-defined) is only applied on distinct input values. Distinct can be applied to <b>GroupBy Aggregation</b>, <b>GroupBy Window Aggregation</b> and <b>Over Window Aggregation</b>.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="c1">// Distinct aggregation on group by
</span><span class="k">val</span> <span class="n">groupByDistinctResult</span> <span class="k">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'a)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">sum</span><span class="o">.</span><span class="n">distinct</span> <span class="n">as</span> <span class="ss">'d)</span>
<span class="c1">// Distinct aggregation on time window group by
</span><span class="k">val</span> <span class="n">groupByWindowDistinctResult</span> <span class="k">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'rowtime </span><span class="n">as</span> <span class="ss">'w)</span><span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'w)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">sum</span><span class="o">.</span><span class="n">distinct</span> <span class="n">as</span> <span class="ss">'d)</span>
<span class="c1">// Distinct aggregation on over window
</span><span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span>
        <span class="n">partitionBy</span> <span class="ss">'a
</span>        <span class="n">orderBy</span> <span class="ss">'rowtime
</span>        <span class="n">preceding</span> <span class="nc">UNBOUNDED_RANGE</span>
        <span class="n">as</span> <span class="ss">'w)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">avg</span><span class="o">.</span><span class="n">distinct</span> <span class="n">over</span> <span class="ss">'w,</span> <span class="ss">'b.</span><span class="n">max</span> <span class="n">over</span> <span class="ss">'w,</span> <span class="ss">'b.</span><span class="n">min</span> <span class="n">over</span> <span class="ss">'w)</span></code></pre></figure>

        <p>User-defined aggregation function can also be used with DISTINCT modifiers. To calculate the aggregate results only for distinct values, simply add the distinct modifier towards the aggregation function. </p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>

<span class="c1">// Use distinct aggregation for user-defined aggregate functions
</span><span class="k">val</span> <span class="n">myUdagg</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">MyUdagg</span><span class="o">();</span>
<span class="n">orders</span><span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'users)</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'users,</span> <span class="n">myUdagg</span><span class="o">.</span><span class="n">distinct</span><span class="o">(</span><span class="ss">'points)</span> <span class="n">as</span> <span class="ss">'myDistinctResult)</span><span class="o">;</span></code></pre></figure>

        <p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct fields. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
    <tr>
      <td>
        <strong>Distinct</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL DISTINCT clause. Returns records with distinct value combinations.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span><span class="o">.</span><span class="n">distinct</span><span class="o">()</span></code></pre></figure>

        <p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct fields. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
  </tbody>
</table>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="joins">Joins</h3>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
  	<tr>
      <td>
        <strong>Inner Join</strong><br />
        <span class="label label-primary">Batch</span>
        <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to a SQL JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined through join operator or using a where or filter operator.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"d, e, f"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">right</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s">"a = d"</span><span class="o">).</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, e"</span><span class="o">);</span></code></pre></figure>

<p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct input rows. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>

    <tr>
      <td>
        <strong>Outer Join</strong><br />
        <span class="label label-primary">Batch</span>
        <span class="label label-primary">Streaming</span>
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to SQL LEFT/RIGHT/FULL OUTER JOIN clauses. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"d, e, f"</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">leftOuterResult</span> <span class="o">=</span> <span class="n">left</span>
<span class="o">.</span><span class="na">leftOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="s">"a = d"</span><span class="o">)</span>
<span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, e"</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">rightOuterResult</span> <span class="o">=</span> <span class="n">left</span>
<span class="o">.</span><span class="na">rightOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="s">"a = d"</span><span class="o">)</span>
<span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, e"</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">fullOuterResult</span> <span class="o">=</span> <span class="n">left</span>
<span class="o">.</span><span class="na">fullOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="s">"a = d"</span><span class="o">)</span>
<span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, e"</span><span class="o">);</span></code></pre></figure>

<p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct input rows. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming/query_configuration.html">Query Configuration</a> for details.</p>
      </td>
    </tr>
    <tr>
      <td><strong>Time-windowed Join</strong><br />
        <span class="label label-primary">Batch</span>
        <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p><b>Note:</b> Time-windowed joins are a subset of regular joins that can be processed in a streaming fashion.</p>

        <p>A time-windowed join requires at least one equi-join predicate and a join condition that bounds the time on both sides. Such a condition can be defined by two appropriate range predicates (<code>&lt;, &lt;=, &gt;=, &gt;</code>) or a single equality predicate that compares <a href="streaming.html#time-attributes">time attributes</a> of the same type (i.e., processing time or event time) of both input tables.</p> 
        <p>For example, the following predicates are valid window join conditions:</p>

        <ul>
          <li><code>ltime === rtime</code></li>
          <li><code>ltime &gt;= rtime &amp;&amp; ltime &lt; rtime + 10.minutes</code></li>
        </ul>
        

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c, ltime.rowtime"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"d, e, f, rtime.rowtime"</span><span class="o">);</span>

<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">right</span><span class="o">)</span>
  <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="s">"a = d &amp;&amp; ltime &gt;= rtime - 5.minutes &amp;&amp; ltime &lt; rtime + 10.minutes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, e, ltime"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>
    <tr>
    	<td>
        <strong>TableFunction Inner Join</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
    	<td>
        <p>Joins a table with a the results of a table function. Each row of the left (outer) table is joined with all rows produced by the corresponding call of the table function. A row of the left (outer) table is dropped, if its table function call returns an empty result.
        </p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// register function</span>
<span class="n">TableFunction</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">split</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MySplitUDTF</span><span class="o">();</span>
<span class="n">tEnv</span><span class="o">.</span><span class="na">registerFunction</span><span class="o">(</span><span class="s">"split"</span><span class="o">,</span> <span class="n">split</span><span class="o">);</span>

<span class="c1">// join</span>
<span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="k">new</span> <span class="n">Table</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="s">"split(c)"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"s"</span><span class="o">,</span> <span class="s">"t"</span><span class="o">,</span> <span class="s">"v"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, s, t, v"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>
    <tr>
    	<td>
        <strong>TableFunction Left Outer Join</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Joins a table with a the results of a table function. Each row of the left (outer) table is joined with all rows produced by the corresponding call of the table function. If a table function call returns an empty result, the corresponding outer row is preserved and the result padded with null values.
        <p><b>Note:</b> Currently, the predicate of a table function left outer join can only be empty or literal <code>true</code>.</p>
        </p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// register function</span>
<span class="n">TableFunction</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">split</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MySplitUDTF</span><span class="o">();</span>
<span class="n">tEnv</span><span class="o">.</span><span class="na">registerFunction</span><span class="o">(</span><span class="s">"split"</span><span class="o">,</span> <span class="n">split</span><span class="o">);</span>

<span class="c1">// join</span>
<span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">leftOuterJoin</span><span class="o">(</span><span class="k">new</span> <span class="n">Table</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="s">"split(c)"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"s"</span><span class="o">,</span> <span class="s">"t"</span><span class="o">,</span> <span class="s">"v"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, s, t, v"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>
    <tr>
      <td>
        <strong>Join with Temporal Table</strong><br />
        <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p><a href="streaming/temporal_tables.html">Temporal Tables</a> are tables that track changes over time.
        A <a href="streaming/temporal_tables.html#temporal-table-functions">Temporal Table Function</a> provides access to the state of a temporal table at a specific point in time.
        The syntax to join a table with a Temporal Table Function is the same as in Join with Table Functions.</p>

        <p>Currently only inner joins with temporal tables are supported.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">ratesHistory</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"RatesHistory"</span><span class="o">);</span>
<span class="c1">// register temporal table function</span>
<span class="n">TemporalTableFunction</span> <span class="n">rates</span> <span class="o">=</span> 
<span class="n">ratesHistory</span><span class="o">.</span><span class="na">createTemporalTableFunction</span><span class="o">(</span><span class="s">"r_proctime"</span><span class="o">,</span> <span class="s">"r_currency"</span><span class="o">);</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerFunction</span><span class="o">(</span><span class="s">"rates"</span><span class="o">,</span> <span class="n">rates</span><span class="o">);</span>

<span class="c1">// join</span>
<span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="k">new</span> <span class="n">Table</span><span class="o">(</span><span class="n">tEnv</span><span class="o">,</span> <span class="s">"rates(o_proctime)"</span><span class="o">),</span> <span class="s">"o_currency = r_currency"</span><span class="o">)</span></code></pre></figure>

        <p>For more information please check the more detailed <a href="streaming/temporal_tables.html">Temporal Tables concept description.</a></p>
      </td>
    </tr>

  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>

  	<tr>
      <td>
        <strong>Inner Join</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL JOIN clause. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined through join operator or using a where or filter operator.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'d,</span> <span class="ss">'e,</span> <span class="ss">'f)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="o">(</span><span class="n">right</span><span class="o">).</span><span class="n">where</span><span class="o">(</span><span class="ss">'a </span><span class="o">===</span> <span class="ss">'d)</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'e)</span></code></pre></figure>

      </td>
    </tr>
    <tr>
      <td>
        <strong>Outer Join</strong><br />
        <span class="label label-primary">Batch</span>
        <span class="label label-primary">Streaming</span>
        <span class="label label-info">Result Updating</span>
      </td>
      <td>
        <p>Similar to SQL LEFT/RIGHT/FULL OUTER JOIN clauses. Joins two tables. Both tables must have distinct field names and at least one equality join predicate must be defined.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromBoundedStream</span><span class="o">(</span><span class="n">ds1</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">fromBoundedStream</span><span class="o">(</span><span class="n">ds2</span><span class="o">,</span> <span class="ss">'d,</span> <span class="ss">'e,</span> <span class="ss">'f)</span>

<span class="k">val</span> <span class="n">leftOuterResult</span> <span class="k">=</span> <span class="n">left</span>
<span class="o">.</span><span class="n">leftOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="ss">'a </span><span class="o">===</span> <span class="ss">'d)</span>
<span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'e)</span>

<span class="k">val</span> <span class="n">rightOuterResult</span> <span class="k">=</span> <span class="n">left</span>
<span class="o">.</span><span class="n">rightOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="ss">'a </span><span class="o">===</span> <span class="ss">'d)</span>
<span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'e)</span>

<span class="k">val</span> <span class="n">fullOuterResult</span> <span class="k">=</span> <span class="n">left</span>
<span class="o">.</span><span class="n">fullOuterJoin</span><span class="o">(</span><span class="n">right</span><span class="o">,</span> <span class="ss">'a </span><span class="o">===</span> <span class="ss">'d)</span>
<span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'e)</span></code></pre></figure>

<p><b>Note:</b> For streaming queries the required state to compute the query result might grow infinitely depending on the number of distinct input rows. Please provide a query configuration with valid retention interval to prevent excessive state size. See <a href="streaming.html">Streaming Concepts</a> for details.</p>
      </td>
    </tr>
    <tr>
      <td><strong>Time-windowed Join</strong><br />
        <span class="label label-primary">Batch</span>
        <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p><b>Note:</b> Time-windowed joins are a subset of regular joins that can be processed in a streaming fashion.</p>

        <p>A time-windowed join requires at least one equi-join predicate and a join condition that bounds the time on both sides. Such a condition can be defined by two appropriate range predicates (<code>&lt;, &lt;=, &gt;=, &gt;</code>) or a single equality predicate that compares <a href="streaming.html#time-attributes">time attributes</a> of the same type (i.e., processing time or event time) of both input tables.</p> 
        <p>For example, the following predicates are valid window join conditions:</p>

        <ul>
          <li><code>'ltime === 'rtime</code></li>
          <li><code>'ltime &gt;= 'rtime &amp;&amp; 'ltime &lt; 'rtime + 10.minutes</code></li>
        </ul>


<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c,</span> <span class="ss">'ltime.</span><span class="n">rowtime</span><span class="o">)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'d,</span> <span class="ss">'e,</span> <span class="ss">'f,</span> <span class="ss">'rtime.</span><span class="n">rowtime</span><span class="o">)</span>

<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="o">(</span><span class="n">right</span><span class="o">)</span>
  <span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="ss">'a </span><span class="o">===</span> <span class="ss">'d </span><span class="o">&amp;&amp;</span> <span class="ss">'ltime </span><span class="o">&gt;=</span> <span class="ss">'rtime </span><span class="o">-</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="o">&amp;&amp;</span> <span class="ss">'ltime </span><span class="o">&lt;</span> <span class="ss">'rtime </span><span class="o">+</span> <span class="mf">10.</span><span class="n">minutes</span><span class="o">)</span>
  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'e,</span> <span class="ss">'ltime)</span></code></pre></figure>

      </td>
    </tr>
    <tr>
    	<td>
        <strong>TableFunction Inner Join</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
    	<td>
        <p>Joins a table with a the results of a table function. Each row of the left (outer) table is joined with all rows produced by the corresponding call of the table function. A row of the left (outer) table is dropped, if its table function call returns an empty result.
        </p>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// instantiate function
</span><span class="k">val</span> <span class="n">split</span><span class="k">:</span> <span class="kt">TableFunction</span><span class="o">[</span><span class="k">_</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">MySplitUDTF</span><span class="o">()</span>

<span class="c1">// join
</span><span class="k">val</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">table</span>
    <span class="o">.</span><span class="n">join</span><span class="o">(</span><span class="n">split</span><span class="o">(</span><span class="ss">'c)</span> <span class="n">as</span> <span class="o">(</span><span class="ss">'s,</span> <span class="ss">'t,</span> <span class="ss">'v)</span><span class="o">)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'s,</span> <span class="ss">'t,</span> <span class="ss">'v)</span></code></pre></figure>

        </td>
    </tr>
    <tr>
    	<td>
        <strong>TableFunction Left Outer Join</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span></td>
    	<td>
        <p>Joins a table with a the results of a table function. Each row of the left (outer) table is joined with all rows produced by the corresponding call of the table function. If a table function call returns an empty result, the corresponding outer row is preserved and the result padded with null values.
        <p><b>Note:</b> Currently, the predicate of a table function left outer join can only be empty or literal <code>true</code>.</p>
        </p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// instantiate function
</span><span class="k">val</span> <span class="n">split</span><span class="k">:</span> <span class="kt">TableFunction</span><span class="o">[</span><span class="k">_</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">MySplitUDTF</span><span class="o">()</span>

<span class="c1">// join
</span><span class="k">val</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">table</span>
    <span class="o">.</span><span class="n">leftOuterJoin</span><span class="o">(</span><span class="n">split</span><span class="o">(</span><span class="ss">'c)</span> <span class="n">as</span> <span class="o">(</span><span class="ss">'s,</span> <span class="ss">'t,</span> <span class="ss">'v)</span><span class="o">)</span>
    <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'s,</span> <span class="ss">'t,</span> <span class="ss">'v)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Join with Temporal Table</strong><br />
        <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p><a href="streaming/temporal_tables.html">Temporal Tables</a> are tables that track their changes over time.
        A <a href="streaming/temporal_tables.html#temporal-table-functions">Temporal Table Function</a> provides access to the state of a temporal table at a specific point in time.
        The syntax to join a table with a Temporal Table Function is the same as in Join with Table Functions.</p>

        <p>Currently only inner joins with temporal tables are supported.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">ratesHistory</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"RatesHistory"</span><span class="o">)</span>
<span class="c1">// register temporal table function
</span><span class="k">val</span> <span class="n">rates</span> <span class="k">=</span> <span class="n">ratesHistory</span><span class="o">.</span><span class="n">createTemporalTableFunction</span><span class="o">(</span><span class="ss">'r_proctime,</span> <span class="ss">'r_currency)</span>

<span class="c1">// join
</span><span class="k">val</span> <span class="n">orders</span> <span class="k">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">orders</span>
    <span class="o">.</span><span class="n">join</span><span class="o">(</span><span class="n">rates</span><span class="o">(</span><span class="ss">'o_rowtime)</span><span class="o">,</span> <span class="ss">'r_currency </span><span class="o">===</span> <span class="ss">'o_currency)</span></code></pre></figure>

        <p>For more information please check the more detailed <a href="streaming/temporal_tables.html">Temporal Tables concept description.</a></p>
      </td>
    </tr>

  </tbody>
</table>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="set-operations">Set Operations</h3>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
  	<tr>
      <td>
        <strong>Union</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL UNION clause. Unions two tables with duplicate records removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">union</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>UnionAll</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to a SQL UNION ALL clause. Unions two tables. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">unionAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Intersect</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL INTERSECT clause. Intersect returns records that exist in both tables. If a record is present one or both tables more than once, it is returned just once, i.e., the resulting table has no duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"d, e, f"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">intersect</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>IntersectAll</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL INTERSECT ALL clause. IntersectAll returns records that exist in both tables. If a record is present in both tables more than once, it is returned as many times as it is present in both tables, i.e., the resulting table might have duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"d, e, f"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">intersectAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Minus</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL EXCEPT clause. Minus returns records from the left table that do not exist in the right table. Duplicate records in the left table are returned exactly once, i.e., duplicates are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">minus</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>MinusAll</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL EXCEPT ALL clause. MinusAll returns the records that do not exist in the right table. A record that is present n times in the left table and m times in the right table is returned (n - m) times, i.e., as many duplicates as are present in the right table are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs1</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs2</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">minusAll</span><span class="o">(</span><span class="n">right</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>In</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL IN clause. In returns true if an expression exists in a given table sub-query. The sub-query table must consist of one column. This column must have the same data type as the expression.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">left</span> <span class="o">=</span> <span class="n">ds1</span><span class="o">.</span><span class="na">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">right</span> <span class="o">=</span> <span class="n">ds2</span><span class="o">.</span><span class="na">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="s">"a"</span><span class="o">);</span>

<span class="c1">// using implicit registration</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, c"</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s">"a.in("</span> <span class="o">+</span> <span class="n">right</span> <span class="o">+</span> <span class="s">")"</span><span class="o">);</span>

<span class="c1">// using explicit registration</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerTable</span><span class="o">(</span><span class="s">"RightTable"</span><span class="o">,</span> <span class="n">right</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b, c"</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s">"a.in(RightTable)"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>
  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
  	<tr>
      <td>
        <strong>Union</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL UNION clause. Unions two tables with duplicate records removed, both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">union</span><span class="o">(</span><span class="n">right</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>UnionAll</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>

      </td>
      <td>
        <p>Similar to a SQL UNION ALL clause. Unions two tables, both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">unionAll</span><span class="o">(</span><span class="n">right</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Intersect</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL INTERSECT clause. Intersect returns records that exist in both tables. If a record is present in one or both tables more than once, it is returned just once, i.e., the resulting table has no duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'e,</span> <span class="ss">'f,</span> <span class="ss">'g)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">intersect</span><span class="o">(</span><span class="n">right</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>IntersectAll</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL INTERSECT ALL clause. IntersectAll returns records that exist in both tables. If a record is present in both tables more than once, it is returned as many times as it is present in both tables, i.e., the resulting table might have duplicate records. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'e,</span> <span class="ss">'f,</span> <span class="ss">'g)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">intersectAll</span><span class="o">(</span><span class="n">right</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Minus</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL EXCEPT clause. Minus returns records from the left table that do not exist in the right table. Duplicate records in the left table are returned exactly once, i.e., duplicates are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">minus</span><span class="o">(</span><span class="n">right</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>MinusAll</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL EXCEPT ALL clause. MinusAll returns the records that do not exist in the right table. A record that is present n times in the left table and m times in the right table is returned (n - m) times, i.e., as many duplicates as are present in the right table are removed. Both tables must have identical field types.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">minusAll</span><span class="o">(</span><span class="n">right</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>In</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL IN clause. In returns true if an expression exists in a given table sub-query. The sub-query table must consist of one column. This column must have the same data type as the expression.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">left</span> <span class="k">=</span> <span class="n">ds1</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">right</span> <span class="k">=</span> <span class="n">ds2</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">left</span><span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span><span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="ss">'a.</span><span class="n">in</span><span class="o">(</span><span class="n">right</span><span class="o">))</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="orderby-offset--fetch">OrderBy, Offset &amp; Fetch</h3>

<div class="codetabs">
  <div data-lang="java">
    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Order By</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL ORDER BY clause. Returns records globally sorted across all parallel partitions.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>
<span class="n">Table</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"a.asc"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Offset &amp; Fetch</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to the SQL OFFSET and FETCH clauses. Offset and Fetch limit the number of records returned from a sorted result. Offset and Fetch are technically part of the Order By operator and thus must be preceded by it.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">in</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">fromBoundedStream</span><span class="o">(</span><span class="n">bs</span><span class="o">,</span> <span class="s">"a, b, c"</span><span class="o">);</span>

<span class="c1">// returns the first 5 records from the sorted result</span>
<span class="n">Table</span> <span class="n">result1</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"a.asc"</span><span class="o">).</span><span class="na">fetch</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span> 

<span class="c1">// skips the first 3 records and returns all following </span>
<span class="c1">// records from the sorted result</span>
<span class="n">Table</span> <span class="n">result2</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"a.asc"</span><span class="o">).</span><span class="na">offset</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>

<span class="c1">// skips the first 10 records and returns the next 5 records </span>
<span class="c1">// from the sorted result</span>
<span class="n">Table</span> <span class="n">result3</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"a.asc"</span><span class="o">).</span><span class="na">offset</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">fetch</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>
  </div>

  <div data-lang="scala">
    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Order By</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to a SQL ORDER BY clause. Returns records globally sorted across all parallel partitions.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>
<span class="k">val</span> <span class="n">result</span> <span class="k">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="ss">'a.</span><span class="n">asc</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

    <tr>
      <td>
        <strong>Offset &amp; Fetch</strong><br />
        <span class="label label-primary">Batch</span>
      </td>
      <td>
        <p>Similar to the SQL OFFSET and FETCH clauses. Offset and Fetch limit the number of records returned from a sorted result. Offset and Fetch are technically part of the Order By operator and thus must be preceded by it.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">in</span> <span class="k">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">toTable</span><span class="o">(</span><span class="n">tableEnv</span><span class="o">,</span> <span class="ss">'a,</span> <span class="ss">'b,</span> <span class="ss">'c)</span>

<span class="c1">// returns the first 5 records from the sorted result
</span><span class="k">val</span> <span class="n">result1</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="ss">'a.</span><span class="n">asc</span><span class="o">).</span><span class="n">fetch</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>

<span class="c1">// skips the first 3 records and returns all following 
// records from the sorted result
</span><span class="k">val</span> <span class="n">result2</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="ss">'a.</span><span class="n">asc</span><span class="o">).</span><span class="n">offset</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span>

<span class="c1">// skips the first 10 records and returns the next 5 records 
// from the sorted result
</span><span class="k">val</span> <span class="n">result3</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="n">orderBy</span><span class="o">(</span><span class="ss">'a.</span><span class="n">asc</span><span class="o">).</span><span class="n">offset</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="n">fetch</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>
  </div>
</div>

<h3 id="insert">Insert</h3>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Insert Into</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to the INSERT INTO clause in a SQL query. Performs a insertion into a registered output table.</p>

        <p>Output tables must be registered in the TableEnvironment (see <a href="common.html#register-a-tablesink">Register a TableSink</a>). Moreover, the schema of the registered table must match the schema of the query.</p>


<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span>
<span class="n">orders</span><span class="o">.</span><span class="na">insertInto</span><span class="o">(</span><span class="s">"OutOrders"</span><span class="o">);</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>
  </div>

  <div data-lang="scala">
    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Operators</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Insert Into</strong><br />
        <span class="label label-primary">Batch</span> <span class="label label-primary">Streaming</span>
      </td>
      <td>
        <p>Similar to the INSERT INTO clause in a SQL query. Performs a insertion into a registered output table.</p>

        <p>Output tables must be registered in the TableEnvironment (see <a href="common.html#register-a-tablesink">Register a TableSink</a>). Moreover, the schema of the registered table must match the schema of the query.</p>


<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">orders</span><span class="k">:</span> <span class="kt">Table</span> <span class="o">=</span> <span class="n">tableEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span>
<span class="n">orders</span><span class="o">.</span><span class="n">insertInto</span><span class="o">(</span><span class="s">"OutOrders"</span><span class="o">)</span></code></pre></figure>

      </td>
    </tr>

  </tbody>
</table>
  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="group-windows">Group Windows</h3>

<p>Group window aggregates group rows into finite groups based on time or row-count intervals and evaluate aggregation functions once per group. For batch tables, windows are a convenient shortcut to group records by time intervals.</p>

<p>Windows are defined using the <code class="highlighter-rouge">window(w: Window)</code> clause and require an alias, which is specified using the <code class="highlighter-rouge">as</code> clause. In order to group a table by a window, the window alias must be referenced in the <code class="highlighter-rouge">groupBy(...)</code> clause like a regular grouping attribute. 
The following example shows how to define a window aggregation on a table.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">window</span><span class="o">([</span><span class="n">Window</span> <span class="n">w</span><span class="o">].</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>  <span class="c1">// define window with alias w</span>
  <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"w"</span><span class="o">)</span>  <span class="c1">// group the table by window w</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"b.sum"</span><span class="o">);</span>  <span class="c1">// aggregate</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">window</span><span class="o">([</span><span class="kt">w:</span> <span class="kt">Window</span><span class="o">]</span> <span class="n">as</span> <span class="ss">'w)</span>  <span class="c1">// define window with alias w
</span>  <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'w)</span>   <span class="c1">// group the table by window w
</span>  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'b.</span><span class="n">sum</span><span class="o">)</span>  <span class="o">//</span> <span class="n">aggregate</span></code></pre></figure>

  </div>
</div>

<p>In streaming environments, window aggregates can only be computed in parallel if they group on one or more attributes in addition to the window, i.e., the <code class="highlighter-rouge">groupBy(...)</code> clause references a window alias and at least one additional attribute. A <code class="highlighter-rouge">groupBy(...)</code> clause that only references a window alias (such as in the example above) can only be evaluated by a single, non-parallel task. 
The following example shows how to define a window aggregation with additional grouping attributes.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">window</span><span class="o">([</span><span class="n">Window</span> <span class="n">w</span><span class="o">].</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>  <span class="c1">// define window with alias w</span>
  <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"w, a"</span><span class="o">)</span>  <span class="c1">// group the table by attribute a and window w </span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.sum"</span><span class="o">);</span>  <span class="c1">// aggregate</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">window</span><span class="o">([</span><span class="kt">w:</span> <span class="kt">Window</span><span class="o">]</span> <span class="n">as</span> <span class="ss">'w)</span> <span class="c1">// define window with alias w
</span>  <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'w,</span> <span class="ss">'a)</span>  <span class="c1">// group the table by attribute a and window w 
</span>  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">sum</span><span class="o">)</span>  <span class="o">//</span> <span class="n">aggregate</span></code></pre></figure>

  </div>
</div>

<p>Window properties such as the start, end, or rowtime timestamp of a time window can be added in the select statement as a property of the window alias as <code class="highlighter-rouge">w.start</code>, <code class="highlighter-rouge">w.end</code>, and <code class="highlighter-rouge">w.rowtime</code>, respectively. The window start and rowtime timestamps are the inclusive lower and uppper window boundaries. In contrast, the window end timestamp is the exclusive upper window boundary. For example a tumbling window of 30 minutes that starts at 2pm would have <code class="highlighter-rouge">14:00:00.000</code> as start timestamp, <code class="highlighter-rouge">14:29:59.999</code> as rowtime timestamp, and <code class="highlighter-rouge">14:30:00.000</code> as end timestamp.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">window</span><span class="o">([</span><span class="n">Window</span> <span class="n">w</span><span class="o">].</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>  <span class="c1">// define window with alias w</span>
  <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"w, a"</span><span class="o">)</span>  <span class="c1">// group the table by attribute a and window w </span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, w.start, w.end, w.rowtime, b.count"</span><span class="o">);</span> <span class="c1">// aggregate and add window start, end, and rowtime timestamps</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">window</span><span class="o">([</span><span class="kt">w:</span> <span class="kt">Window</span><span class="o">]</span> <span class="n">as</span> <span class="ss">'w)</span>  <span class="c1">// define window with alias w
</span>  <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'w,</span> <span class="ss">'a)</span>  <span class="c1">// group the table by attribute a and window w 
</span>  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'w.</span><span class="n">start</span><span class="o">,</span> <span class="ss">'w.</span><span class="n">end</span><span class="o">,</span> <span class="ss">'w.</span><span class="n">rowtime</span><span class="o">,</span> <span class="ss">'b.</span><span class="n">count</span><span class="o">)</span> <span class="o">//</span> <span class="n">aggregate</span> <span class="n">and</span> <span class="n">add</span> <span class="n">window</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">,</span> <span class="n">and</span> <span class="n">rowtime</span> <span class="n">timestamps</span></code></pre></figure>

  </div>
</div>

<p>The <code class="highlighter-rouge">Window</code> parameter defines how rows are mapped to windows. <code class="highlighter-rouge">Window</code> is not an interface that users can implement. Instead, the Table API provides a set of predefined <code class="highlighter-rouge">Window</code> classes with specific semantics, which are translated into underlying <code class="highlighter-rouge">DataStream</code> operations. The supported window definitions are listed below.</p>

<h4 id="tumble-tumbling-windows">Tumble (Tumbling Windows)</h4>

<p>A tumbling window assigns rows to non-overlapping, continuous windows of fixed length. For example, a tumbling window of 5 minutes groups rows in 5 minutes intervals. Tumbling windows can be defined on event-time, processing-time, or on a row-count.</p>

<p>Tumbling windows are defined by using the <code class="highlighter-rouge">Tumble</code> class as follows:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>over</code></td>
      <td>Defines the length the window, either as time or row-count interval.</td>
    </tr>
    <tr>
      <td><code>on</code></td>
      <td>The time attribute to group (time interval) or sort (row count) on. For batch queries this might be any Long or Timestamp attribute. For streaming queries this must be a <a href="streaming.html#time-attributes">declared event-time or processing-time time attribute</a>.</td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Assigns an alias to the window. The alias is used to reference the window in the following <code>groupBy()</code> clause and optionally to select window properties such as window start, end, or rowtime timestamps in the <code>select()</code> clause.</td>
    </tr>
  </tbody>
</table>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Tumbling Event-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"10.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Tumbling Processing-time Window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"10.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Tumbling Row-count Window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Tumble</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"10.rows"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Tumbling Event-time Window
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'rowtime </span><span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Tumbling Processing-time Window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'proctime </span><span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Tumbling Row-count Window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Tumble</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">rows</span> <span class="n">on</span> <span class="ss">'proctime </span><span class="n">as</span> <span class="ss">'w)</span></code></pre></figure>

  </div>
</div>

<h4 id="slide-sliding-windows">Slide (Sliding Windows)</h4>

<p>A sliding window has a fixed size and slides by a specified slide interval. If the slide interval is smaller than the window size, sliding windows are overlapping. Thus, rows can be assigned to multiple windows. For example, a sliding window of 15 minutes size and 5 minute slide interval assigns each row to 3 different windows of 15 minute size, which are evaluated in an interval of 5 minutes. Sliding windows can be defined on event-time, processing-time, or on a row-count.</p>

<p>Sliding windows are defined by using the <code class="highlighter-rouge">Slide</code> class as follows:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>over</code></td>
      <td>Defines the length of the window, either as time or row-count interval.</td>
    </tr>
    <tr>
      <td><code>every</code></td>
      <td>Defines the slide interval, either as time or row-count interval. The slide interval must be of the same type as the size interval.</td>
    </tr>
    <tr>
      <td><code>on</code></td>
      <td>The time attribute to group (time interval) or sort (row count) on. For batch queries this might be any Long or Timestamp attribute. For streaming queries this must be a <a href="streaming.html#time-attributes">declared event-time or processing-time time attribute</a>.</td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Assigns an alias to the window. The alias is used to reference the window in the following <code>groupBy()</code> clause and optionally to select window properties such as window start, end, or rowtime timestamps in the <code>select()</code> clause.</td>
    </tr>
  </tbody>
</table>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Sliding Event-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Slide</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"10.minutes"</span><span class="o">).</span><span class="na">every</span><span class="o">(</span><span class="s">"5.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Sliding Processing-time window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Slide</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"10.minutes"</span><span class="o">).</span><span class="na">every</span><span class="o">(</span><span class="s">"5.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Sliding Row-count window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Slide</span><span class="o">.</span><span class="na">over</span><span class="o">(</span><span class="s">"10.rows"</span><span class="o">).</span><span class="na">every</span><span class="o">(</span><span class="s">"5.rows"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Sliding Event-time Window
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Slide</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">every</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'rowtime </span><span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Sliding Processing-time window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Slide</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">every</span> <span class="mf">5.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'proctime </span><span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Sliding Row-count window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Slide</span> <span class="n">over</span> <span class="mf">10.</span><span class="n">rows</span> <span class="n">every</span> <span class="mf">5.</span><span class="n">rows</span> <span class="n">on</span> <span class="ss">'proctime </span><span class="n">as</span> <span class="ss">'w)</span></code></pre></figure>

  </div>
</div>

<h4 id="session-session-windows">Session (Session Windows)</h4>

<p>Session windows do not have a fixed size but their bounds are defined by an interval of inactivity, i.e., a session window is closes if no event appears for a defined gap period. For example a session window with a 30 minute gap starts when a row is observed after 30 minutes inactivity (otherwise the row would be added to an existing window) and is closed if no row is added within 30 minutes. Session windows can work on event-time or processing-time.</p>

<p>A session window is defined by using the <code class="highlighter-rouge">Session</code> class as follows:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>withGap</code></td>
      <td>Defines the gap between two windows as time interval.</td>
    </tr>
    <tr>
      <td><code>on</code></td>
      <td>The time attribute to group (time interval) or sort (row count) on. For batch queries this might be any Long or Timestamp attribute. For streaming queries this must be a <a href="streaming.html#time-attributes">declared event-time or processing-time time attribute</a>.</td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Assigns an alias to the window. The alias is used to reference the window in the following <code>groupBy()</code> clause and optionally to select window properties such as window start, end, or rowtime timestamps in the <code>select()</code> clause.</td>
    </tr>
  </tbody>
</table>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Session Event-time Window</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Session</span><span class="o">.</span><span class="na">withGap</span><span class="o">(</span><span class="s">"10.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Session Processing-time Window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Session</span><span class="o">.</span><span class="na">withGap</span><span class="o">(</span><span class="s">"10.minutes"</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Session Event-time Window
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Session</span> <span class="n">withGap</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'rowtime </span><span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Session Processing-time Window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Session</span> <span class="n">withGap</span> <span class="mf">10.</span><span class="n">minutes</span> <span class="n">on</span> <span class="ss">'proctime </span><span class="n">as</span> <span class="ss">'w)</span></code></pre></figure>

  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h3 id="over-windows">Over Windows</h3>

<p>Over window aggregates are known from standard SQL (<code class="highlighter-rouge">OVER</code> clause) and defined in the <code class="highlighter-rouge">SELECT</code> clause of a query. Unlike group windows, which are specified in the <code class="highlighter-rouge">GROUP BY</code> clause, over windows do not collapse rows. Instead over window aggregates compute an aggregate for each input row over a range of its neighboring rows.</p>

<p>Over windows are defined using the <code class="highlighter-rouge">window(w: OverWindow*)</code> clause and referenced via an alias in the <code class="highlighter-rouge">select()</code> method. The following example shows how to define an over window aggregation on a table.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="na">window</span><span class="o">([</span><span class="n">OverWindow</span> <span class="n">w</span><span class="o">].</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>           <span class="c1">// define over window with alias w</span>
  <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.sum over w, c.min over w"</span><span class="o">);</span> <span class="c1">// aggregate over the over window w</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">table</span> <span class="k">=</span> <span class="n">input</span>
  <span class="o">.</span><span class="n">window</span><span class="o">([</span><span class="kt">w:</span> <span class="kt">OverWindow</span><span class="o">]</span> <span class="n">as</span> <span class="ss">'w)</span>              <span class="c1">// define over window with alias w
</span>  <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">sum</span> <span class="n">over</span> <span class="ss">'w,</span> <span class="ss">'c.</span><span class="n">min</span> <span class="n">over</span> <span class="ss">'w)</span> <span class="o">//</span> <span class="n">aggregate</span> <span class="n">over</span> <span class="n">the</span> <span class="n">over</span> <span class="n">window</span> <span class="n">w</span></code></pre></figure>

  </div>
</div>

<p>The <code class="highlighter-rouge">OverWindow</code> defines a range of rows over which aggregates are computed. <code class="highlighter-rouge">OverWindow</code> is not an interface that users can implement. Instead, the Table API provides the <code class="highlighter-rouge">Over</code> class to configure the properties of the over window. Over windows can be defined on event-time or processing-time and on ranges specified as time interval or row-count. The supported over window definitions are exposed as methods on <code class="highlighter-rouge">Over</code> (and other classes) and are listed below:</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 20%">Method</th>
      <th class="text-left">Required</th>
      <th class="text-left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>partitionBy</code></td>
      <td>Optional</td>
      <td>
        <p>Defines a partitioning of the input on one or more attributes. Each partition is individually sorted and aggregate functions are applied to each partition separately.</p>

        <p><b>Note:</b> In streaming environments, over window aggregates can only be computed in parallel if the window includes a partition by clause. Without <code>partitionBy(...)</code> the stream is processed by a single, non-parallel task.</p>
      </td>
    </tr>
    <tr>
      <td><code>orderBy</code></td>
      <td>Required</td>
      <td>
        <p>Defines the order of rows within each partition and thereby the order in which the aggregate functions are applied to rows.</p>

        <p><b>Note:</b> For streaming queries this must be a <a href="streaming.html#time-attributes">declared event-time or processing-time time attribute</a>. Currently, only a single sort attribute is supported.</p>
      </td>
    </tr>
    <tr>
      <td><code>preceding</code></td>
      <td>Optional</td>
      <td>
        <p>Defines the interval of rows that are included in the window and precede the current row. The interval can either be specified as time or row-count interval.</p>

        <p><a href="tableApi.html#bounded-over-windows">Bounded over windows</a> are specified with the size of the interval, e.g., <code>10.minutes</code> for a time interval or <code>10.rows</code> for a row-count interval.</p>

        <p><a href="tableApi.html#unbounded-over-windows">Unbounded over windows</a> are specified using a constant, i.e., <code>UNBOUNDED_RANGE</code> for a time interval or <code>UNBOUNDED_ROW</code> for a row-count interval. Unbounded over windows start with the first row of a partition.</p>
      
        <p>If the <code>preceding</code> clause is omitted, <code>UNBOUNDED_RANGE</code> and <code>CURRENT_RANGE</code> are used as the default <code>preceding</code> and <code>following</code> for the window.</p>
      </td>
    </tr>
    <tr>
      <td><code>following</code></td>
      <td>Optional</td>
      <td>
        <p>Defines the window interval of rows that are included in the window and follow the current row. The interval must be specified in the same unit as the preceding interval (time or row-count).</p>

        <p>At the moment, over windows with rows following the current row are not supported. Instead you can specify one of two constants:</p>

        <ul>
          <li><code>CURRENT_ROW</code> sets the upper bound of the window to the current row.</li>
          <li><code>CURRENT_RANGE</code> sets the upper bound of the window to sort key of the current row, i.e., all rows with the same sort key as the current row are included in the window.</li>
        </ul>

        <p>If the <code>following</code> clause is omitted, the upper bound of a time interval window is defined as <code>CURRENT_RANGE</code> and the upper bound of a row-count interval window is defined as <code>CURRENT_ROW</code>.</p>
      </td>
    </tr>
    <tr>
      <td><code>as</code></td>
      <td>Required</td>
      <td>
        <p>Assigns an alias to the over window. The alias is used to reference the over window in the following <code>select()</code> clause.</p>
      </td>
    </tr>
  </tbody>
</table>

<p><strong>Note:</strong> Currently, all aggregation functions in the same <code class="highlighter-rouge">select()</code> call must be computed of the same over window.</p>

<h4 id="unbounded-over-windows">Unbounded Over Windows</h4>
<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Unbounded Event-time over window (assuming an event-time attribute "rowtime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"unbounded_range"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Unbounded Processing-time over window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"unbounded_range"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>

<span class="c1">// Unbounded Event-time Row-count over window (assuming an event-time attribute "rowtime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"unbounded_row"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span>
 
<span class="c1">// Unbounded Processing-time Row-count over window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"unbounded_row"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">));</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Unbounded Event-time over window (assuming an event-time attribute "rowtime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'rowtime </span><span class="n">preceding</span> <span class="nc">UNBOUNDED_RANGE</span> <span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Unbounded Processing-time over window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'proctime </span><span class="n">preceding</span> <span class="nc">UNBOUNDED_RANGE</span> <span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Unbounded Event-time Row-count over window (assuming an event-time attribute "rowtime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'rowtime </span><span class="n">preceding</span> <span class="nc">UNBOUNDED_ROW</span> <span class="n">as</span> <span class="ss">'w)</span>
 
<span class="c1">// Unbounded Processing-time Row-count over window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'proctime </span><span class="n">preceding</span> <span class="nc">UNBOUNDED_ROW</span> <span class="n">as</span> <span class="ss">'w)</span></code></pre></figure>

  </div>
</div>

<h4 id="bounded-over-windows">Bounded Over Windows</h4>
<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Bounded Event-time over window (assuming an event-time attribute "rowtime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"1.minutes"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>

<span class="c1">// Bounded Processing-time over window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"1.minutes"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>

<span class="c1">// Bounded Event-time Row-count over window (assuming an event-time attribute "rowtime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"rowtime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"10.rows"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span>
 
<span class="c1">// Bounded Processing-time Row-count over window (assuming a processing-time attribute "proctime")</span>
<span class="o">.</span><span class="na">window</span><span class="o">(</span><span class="n">Over</span><span class="o">.</span><span class="na">partitionBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">).</span><span class="na">orderBy</span><span class="o">(</span><span class="s">"proctime"</span><span class="o">).</span><span class="na">preceding</span><span class="o">(</span><span class="s">"10.rows"</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"w"</span><span class="o">))</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// Bounded Event-time over window (assuming an event-time attribute "rowtime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'rowtime </span><span class="n">preceding</span> <span class="mf">1.</span><span class="n">minutes</span> <span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Bounded Processing-time over window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'proctime </span><span class="n">preceding</span> <span class="mf">1.</span><span class="n">minutes</span> <span class="n">as</span> <span class="ss">'w)</span>

<span class="c1">// Bounded Event-time Row-count over window (assuming an event-time attribute "rowtime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'rowtime </span><span class="n">preceding</span> <span class="mf">10.</span><span class="n">rows</span> <span class="n">as</span> <span class="ss">'w)</span>
  
<span class="c1">// Bounded Processing-time Row-count over window (assuming a processing-time attribute "proctime")
</span><span class="o">.</span><span class="n">window</span><span class="o">(</span><span class="nc">Over</span> <span class="n">partitionBy</span> <span class="ss">'a </span><span class="n">orderBy</span> <span class="ss">'proctime </span><span class="n">preceding</span> <span class="mf">10.</span><span class="n">rows</span> <span class="n">as</span> <span class="ss">'w)</span></code></pre></figure>

  </div>
</div>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="data-types">Data Types</h2>

<p>The Table API is built on top of Flinkâ€™s DataStream APIs. Internally, it uses tables <code class="highlighter-rouge">InternalType</code> to define data types. Fully supported types are listed in <code class="highlighter-rouge">org.apache.flink.table.api.Types</code>. The following table summarizes the relation between Table API types, SQL types, and the resulting Java class.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Table API</th>
      <th style="text-align: left">SQL</th>
      <th style="text-align: left">Java type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.STRING</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">VARCHAR</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.String</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.BOOLEAN</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">BOOLEAN</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Boolean</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.BYTE</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">TINYINT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Byte</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.SHORT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">SMALLINT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Short</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.INT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">INTEGER, INT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Integer</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.LONG</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">BIGINT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Long</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.FLOAT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">REAL, FLOAT</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Float</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.DOUBLE</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">DOUBLE</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Double</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.DECIMAL</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">DECIMAL</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.math.BigDecimal</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.SQL_DATE</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">DATE</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.sql.Date</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.SQL_TIME</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">TIME</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.sql.Time</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.SQL_TIMESTAMP</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">TIMESTAMP(3)</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.sql.Timestamp</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.INTERVAL_MONTHS</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">INTERVAL YEAR TO MONTH</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Integer</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.INTERVAL_MILLIS</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">INTERVAL DAY TO SECOND(3)</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.lang.Long</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.PRIMITIVE_ARRAY</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">ARRAY</code></td>
      <td style="text-align: left">e.g. <code class="highlighter-rouge">int[]</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.OBJECT_ARRAY</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">ARRAY</code></td>
      <td style="text-align: left">e.g. <code class="highlighter-rouge">java.lang.Byte[]</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.MAP</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">MAP</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">java.util.HashMap</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">DataTypes.MULTISET</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">MULTISET</code></td>
      <td style="text-align: left">e.g. <code class="highlighter-rouge">java.util.HashMap&lt;String, Integer&gt;</code> for a multiset of <code class="highlighter-rouge">String</code></td>
    </tr>
  </tbody>
</table>

<p>Generic types and composite types (e.g., POJOs or Tuples) can be fields of a row as well. Generic types are treated as a black box and can be passed on or processed by <a href="udfs.html">user-defined functions</a>. Composite types can be accessed with <a href="#built-in-functions">built-in functions</a> (see <em>Value access functions</em> section).</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="expression-syntax">Expression Syntax</h2>

<p>Some of the operators in previous sections expect one or more expressions. Expressions can be specified using an embedded Scala DSL or as Strings. Please refer to the examples above to learn how expressions can be specified.</p>

<p>This is the EBNF grammar for expressions:</p>

<figure class="highlight"><pre><code class="language-ebnf" data-lang="ebnf">expressionList = expression , { "," , expression } ;

expression = timeIndicator | overConstant | alias ;

alias = logic | ( logic , "as" , fieldReference ) | ( logic , "as" , "(" , fieldReference , { "," , fieldReference } , ")" ) ;

logic = comparison , [ ( "&amp;&amp;" | "||" ) , comparison ] ;

comparison = term , [ ( "=" | "==" | "===" | "!=" | "!==" | "&gt;" | "&gt;=" | "&lt;" | "&lt;=" ) , term ] ;

term = product , [ ( "+" | "-" ) , product ] ;

product = unary , [ ( "*" | "/" | "%") , unary ] ;

unary = [ "!" | "-" ] , composite ;

composite = over | nullLiteral | suffixed | atom ;

suffixed = interval | cast | as | if | functionCall ;

interval = timeInterval | rowInterval ;

timeInterval = composite , "." , ("year" | "years" | "quarter" | "quarters" |  "month" | "months" | "week" | "weeks" | "day" | "days" | "hour" | "hours" | "minute" | "minutes" | "second" | "seconds" | "milli" | "millis") ;

rowInterval = composite , "." , "rows" ;

cast = composite , ".cast(" , dataType , ")" ;

dataType = "BYTE" | "SHORT" | "INT" | "LONG" | "FLOAT" | "DOUBLE" | "BOOLEAN" | "STRING" | "DECIMAL" | "SQL_DATE" | "SQL_TIME" | "SQL_TIMESTAMP" | "INTERVAL_MONTHS" | "INTERVAL_MILLIS" | ( "MAP" , "(" , dataType , "," , dataType , ")" ) | ( "PRIMITIVE_ARRAY" , "(" , dataType , ")" ) | ( "OBJECT_ARRAY" , "(" , dataType , ")" ) ;

as = composite , ".as(" , fieldReference , ")" ;

if = composite , ".?(" , expression , "," , expression , ")" ;

functionCall = composite , "." , functionIdentifier , [ "(" , [ expression , { "," , expression } ] , ")" ] ;

atom = ( "(" , expression , ")" ) | literal | fieldReference ;

fieldReference = "*" | identifier ;

nullLiteral = "Null(" , dataType , ")" ;

timeIntervalUnit = "YEAR" | "YEAR_TO_MONTH" | "MONTH" | "QUARTER" | "WEEK" | "DAY" | "DAY_TO_HOUR" | "DAY_TO_MINUTE" | "DAY_TO_SECOND" | "HOUR" | "HOUR_TO_MINUTE" | "HOUR_TO_SECOND" | "MINUTE" | "MINUTE_TO_SECOND" | "SECOND" ;

timePointUnit = "YEAR" | "MONTH" | "DAY" | "HOUR" | "MINUTE" | "SECOND" | "QUARTER" | "WEEK" | "MILLISECOND" | "MICROSECOND" ;

over = composite , "over" , fieldReference ;

overConstant = "current_row" | "current_range" | "unbounded_row" | "unbounded_row" ;

timeIndicator = fieldReference , "." , ( "proctime" | "rowtime" ) ;</code></pre></figure>

<p>Here, <code class="highlighter-rouge">literal</code> is a valid Java literal. String literals can be specified using single or double quotes. Duplicate the quote for escaping (e.g. <code class="highlighter-rouge">'It''s me.'</code> or <code class="highlighter-rouge">"I ""like"" dogs."</code>).</p>

<p>The <code class="highlighter-rouge">fieldReference</code> specifies a column in the data (or all columns if <code class="highlighter-rouge">*</code> is used), and <code class="highlighter-rouge">functionIdentifier</code> specifies a supported scalar function. The column names and function names follow Java identifier syntax.</p>

<p>Expressions specified as strings can also use prefix notation instead of suffix notation to call operators and functions.</p>

<p>If working with exact numeric values or large decimals is required, the Table API also supports Javaâ€™s BigDecimal type. In the Scala Table API decimals can be defined by <code class="highlighter-rouge">BigDecimal("123456")</code> and in Java by appending a â€œpâ€ for precise e.g. <code class="highlighter-rouge">123456p</code>.</p>

<p>In order to work with temporal values the Table API supports Java SQLâ€™s Date, Time, and Timestamp types. In the Scala Table API literals can be defined by using <code class="highlighter-rouge">java.sql.Date.valueOf("2016-06-27")</code>, <code class="highlighter-rouge">java.sql.Time.valueOf("10:10:42")</code>, or <code class="highlighter-rouge">java.sql.Timestamp.valueOf("2016-06-27 10:10:42.123")</code>. The Java and Scala Table API also support calling <code class="highlighter-rouge">"2016-06-27".toDate()</code>, <code class="highlighter-rouge">"10:10:42".toTime()</code>, and <code class="highlighter-rouge">"2016-06-27 10:10:42.123".toTimestamp()</code> for converting Strings into temporal types. <em>Note:</em> Since Javaâ€™s temporal SQL types are time zone dependent, please make sure that the Flink Client and all TaskManagers use the same time zone.</p>

<p>Temporal intervals can be represented as number of months (<code class="highlighter-rouge">Types.INTERVAL_MONTHS</code>) or number of milliseconds (<code class="highlighter-rouge">Types.INTERVAL_MILLIS</code>). Intervals of same type can be added or subtracted (e.g. <code class="highlighter-rouge">1.hour + 10.minutes</code>). Intervals of milliseconds can be added to time points (e.g. <code class="highlighter-rouge">"2016-08-10".toDate + 5.days</code>).</p>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="built-in-functions">Built-In Functions</h2>

<p>The Table API comes with a set of built-in functions for data transformations. This section gives a brief overview of the available functions.</p>

<div class="codetabs">
  <div data-lang="java">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Comparison functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span> <span class="o">===</span> <span class="n">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Equals.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span> <span class="o">!==</span> <span class="n">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Not equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span> <span class="o">&gt;</span> <span class="n">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Greater than.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span> <span class="o">&gt;=</span> <span class="n">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Greater than or equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span> <span class="o">&lt;</span> <span class="n">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Less than.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span> <span class="o">&lt;=</span> <span class="n">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Less than or equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">isNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">isNotNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified LIKE pattern. E.g. "Jo_n%" matches all strings that start with "Jo(arbitrary letter)n".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">similar</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified SQL regex pattern. E.g. "A+" matches all strings that consist of at least one "A".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">in</span><span class="o">(</span><span class="n">ANY</span><span class="o">,</span> <span class="n">ANY</span><span class="o">,</span> <span class="o">...)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if an expression exists in a given list of expressions. This is a shorthand for multiple OR conditions. If the testing set contains null, the result will be null if the element can not be found and true if it can be found. If element is null, the result is always null. E.g. "42.in(1, 2, 3)" leads to false.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">in</span><span class="o">(</span><span class="n">TABLE</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if an expression exists in a given table sub-query. The sub-query table must consist of one column. This column must have the same data type as the expression. Note: This operation is not supported in a streaming environment yet.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">between</span><span class="o">(</span><span class="n">lowerBound</span><span class="o">,</span> <span class="n">upperBound</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if an expression exists in a given range. The lower bound and upper bound are all inclusive.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">notBetween</span><span class="o">(</span><span class="n">lowerBound</span><span class="o">,</span> <span class="n">upperBound</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if an expression does not exist in a given range.</p>
      </td>
    </tr>        

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Logical functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">boolean1</span> <span class="o">||</span> <span class="n">boolean2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if <i>boolean1</i> is true or <i>boolean2</i> is true. Supports three-valued logic.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">boolean1</span> <span class="o">&amp;&amp;</span> <span class="n">boolean2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if <i>boolean1</i> and <i>boolean2</i> are both true. Supports three-valued logic.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">!</span><span class="n">BOOLEAN</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if boolean expression is not true; returns null if boolean is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is true. False otherwise (for null and false).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is false. False otherwise (for null and true).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isNotTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is not true (for null and false). False otherwise.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.</span><span class="na">isNotFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is not false (for null and true). False otherwise.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Arithmetic functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

   <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">+</span> <span class="n">numeric</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">-</span> <span class="n">numeric</span></code></pre></figure>

      </td>
      <td>
        <p>Returns negative <i>numeric</i>.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span> <span class="o">+</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> plus <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span> <span class="o">-</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> minus <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span> <span class="o">*</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> multiplied by <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span> <span class="o">/</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> divided by <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span><span class="o">.</span><span class="na">power</span><span class="o">(</span><span class="n">numeric2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> raised to the power of <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">abs</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the absolute value of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span> <span class="o">%</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the remainder (modulus) of <i>numeric1</i> divided by <i>numeric2</i>. The result is negative only if <i>numeric1</i> is negative.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">sqrt</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the square root of a given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">ln</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the natural logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">log10</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the base 10 logarithm of given value.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">log2</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the base 2 logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">numeric1</span><span class="o">.</span><span class="na">log</span><span class="o">()</span>
<span class="n">numeric1</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">numeric2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the logarithm of a given numeric value.</p>
        <p>If called without a parameter, this function returns the natural logarithm of <code>numeric1</code>. If called with a parameter <code>numeric2</code>, this function returns the logarithm of <code>numeric1</code> to the base <code>numeric2</code>. <code>numeric1</code> must be greater than 0. <code>numeric2</code> must be greater than 1.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">exp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the Euler's number raised to the given power.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">ceil</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the smallest integer greater than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">floor</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the largest integer less than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">sin</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the sine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">cos</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the cosine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">tan</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the tangent of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">cot</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the cotangent of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">asin</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the arc sine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">acos</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the arc cosine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">atan</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the arc tangent of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">atan2</span><span class="o">(</span><span class="n">NUMERIC1</span><span class="o">,</span> <span class="n">NUMERIC2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the arc tangent of a coordinate <i>(NUMERIC1, NUMERIC2)</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">cosh</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the hyperbolic cosine of <i>NUMERIC</i>.</p> 
        <p>Return value type is <i>DOUBLE</i>.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">sinh</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the hyperbolic sine of a given number.</p> 
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">tanh</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the hyperbolic tangent of a given number.</p> 
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">degrees</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Converts <i>numeric</i> from radians to degrees.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">radians</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Converts <i>numeric</i> from degrees to radians.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">sign</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the signum of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">round</span><span class="o">(</span><span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds the given number to <i>integer</i> places right to the decimal point.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">pi</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a value that is closer than any other value to pi.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">e</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a value that is closer than any other value to e.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">rand</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a pseudorandom double value between 0.0 (inclusive) and 1.0 (exclusive).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">rand</span><span class="o">(</span><span class="n">seed</span> <span class="n">integer</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a pseudorandom double value between 0.0 (inclusive) and 1.0 (exclusive) with a initial seed. Two rand functions will return identical sequences of numbers if they have same initial seed.</p>
      </td>
    </tr>

    <tr>
     <td>
       
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">randInteger</span><span class="o">(</span><span class="n">bound</span> <span class="n">integer</span><span class="o">)</span></code></pre></figure>

     </td>
    <td>
      <p>Returns a pseudorandom integer value between 0.0 (inclusive) and the specified value (exclusive).</p>
    </td>
   </tr>

    <tr>
     <td>
       
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">randInteger</span><span class="o">(</span><span class="n">seed</span> <span class="n">integer</span><span class="o">,</span> <span class="n">bound</span> <span class="n">integer</span><span class="o">)</span></code></pre></figure>

     </td>
    <td>
      <p>Returns a pseudorandom integer value between 0.0 (inclusive) and the specified value (exclusive) with a initial seed. Two randInteger functions will return identical sequences of numbers if they have same initial seed and same bound.</p>
    </td>
   </tr>

    <tr>
     <td>
       
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">bin</span><span class="o">()</span></code></pre></figure>

     </td>
    <td>
      <p>Returns a string representation of an integer numeric value in binary format. Returns null if <i>numeric</i> is null. E.g. "4" leads to "100", "12" leads to "1100".</p>
    </td>
   </tr>
    
  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">String functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span> <span class="o">+</span> <span class="n">STRING</span></code></pre></figure>

      </td>
      <td>
        <p>Concatenates two character strings.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">charLength</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the length of a String.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">upperCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in upper case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">lowerCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in lower case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">position</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the position of string in an other string starting at 1. Returns 0 if string could not be found. E.g. <code>'a'.position('bbbbba')</code> leads to 6.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">LEADING</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">TRAILING</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">BOTH</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">(</span><span class="n">BOTH</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">trim</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Removes leading and/or trailing characters from the given string. By default, whitespaces at both sides are removed.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">overlay</span><span class="o">(</span><span class="n">STRING</span><span class="o">,</span> <span class="n">INT</span><span class="o">)</span>
<span class="n">STRING</span><span class="o">.</span><span class="na">overlay</span><span class="o">(</span><span class="n">STRING</span><span class="o">,</span> <span class="n">INT</span><span class="o">,</span> <span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Replaces a substring of string with a string starting at a position (starting at 1). An optional length specifies how many characters should be removed. E.g. <code>'xxxxxtest'.overlay('xxxx', 6)</code> leads to "xxxxxxxxx", <code>'xxxxxtest'.overlay('xxxx', 6, 2)</code> leads to "xxxxxxxxxst".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string beginning at the given index to the end. The start index starts at 1 and is inclusive.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">INT</span><span class="o">,</span> <span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string at the given index for the given length. The index starts at 1 and is inclusive, i.e., the character at the index is included in the substring. The substring has the specified length or less.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">initCap</span><span class="o">()</span></code></pre></figure>

      </td>

      <td>
        <p>Converts the initial letter of each word in a string to uppercase. Assumes a string containing only [A-Za-z0-9], everything else is treated as whitespace.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">lpad</span><span class="o">(</span><span class="n">len</span> <span class="n">INT</span><span class="o">,</span> <span class="n">pad</span> <span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>

      <td>
        <p>Returns a string left-padded with the given pad string to a length of len characters. If the string is longer than len, the return value is shortened to len characters. E.g. "hi".lpad(4, '??') returns "??hi",  "hi".lpad(1, '??') returns "h".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">rpad</span><span class="o">(</span><span class="n">len</span> <span class="n">INT</span><span class="o">,</span> <span class="n">pad</span> <span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>

      <td>
        <p>Returns a string right-padded with the given pad string to a length of len characters. If the string is longer than len, the return value is shortened to len characters. E.g. "hi".rpad(4, '??') returns "hi??",  "hi".rpad(1, '??') returns "h".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">fromBase64</span><span class="o">()</span></code></pre></figure>

      </td>

      <td>
        <p>Returns the base string decoded with base64, if string is null, returns null. E.g. "aGVsbG8gd29ybGQ=".fromBase64() returns "hello world".</p>
      </td>
    </tr>

    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toBase64</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the base64-encoded result of <i>STRING</i>; retruns NULL if <i>STRING</i> is NULL.</p>
         <p>E.g., <code>"hello world".toBase64()</code> returns "aGVsbG8gd29ybGQ=".</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">concat</span><span class="o">(</span><span class="n">STRING1</span><span class="o">,</span> <span class="n">STRING2</span><span class="o">,</span> <span class="o">...)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a string that concatenates <i>STRING1, STRING2, ...</i>. Returns NULL if any argument is NULL.</p>
        <p>E.g., <code>concat('AA', 'BB', 'CC')</code> returns "AABBCC".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">concat_ws</span><span class="o">(</span><span class="n">STRING1</span><span class="o">,</span> <span class="n">STRING2</span><span class="o">,</span> <span class="n">STRING3</span><span class="o">,</span> <span class="o">...)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a string that concatenates <i>STRING2, STRING3, ...</i> with a separator <i>STRING1</i>. The separator is added between the strings to be concatenated. Returns NULL If <i>STRING1</i> is NULL. Compared with <code>concat()</code>, <code>concat_ws()</code> automatically skips NULL arguments.</p> 
        <p>E.g., <code>concat_ws('~', 'AA', Null(STRING), 'BB', '', 'CC')</code> returns "AA~BB~~CC".</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Conditional functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.?(</span><span class="n">value1</span><span class="o">,</span> <span class="n">value2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Ternary conditional operator that decides which of two other expressions should be evaluated based on a evaluated boolean condition. E.g. <code>(42 &gt; 5).?("A", "B")</code> leads to "A".</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Type conversion functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">cast</span><span class="o">(</span><span class="n">TYPE</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Converts a value to a given type. E.g. <code>"42".cast(INT)</code> leads to 42.</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Value constructor functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">rows</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of rows.</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Temporal functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

   <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toDate</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a date string in the form "yy-mm-dd" to a SQL date.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a time string in the form "hh:mm:ss" to a SQL time.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">toTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a timestamp string in the form "yy-mm-dd hh:mm:ss.fff" to a SQL timestamp.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">year</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">years</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of years.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">quarter</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">quarters</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for <i>NUMERIC</i> quarters.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">month</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">months</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of months.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">week</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">weeks</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for <i>NUMERIC</i> weeks.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">day</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">days</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of days.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">hour</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">hours</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of hours.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">minute</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">minutes</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of minutes.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">second</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">seconds</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of seconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NUMERIC</span><span class="o">.</span><span class="na">milli</span>
<span class="n">NUMERIC</span><span class="o">.</span><span class="na">millis</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">currentDate</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL date in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">currentTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">currentTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">localTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">localTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TEMPORAL</span><span class="o">.</span><span class="na">extract</span><span class="o">(</span><span class="n">TIMEINTERVALUNIT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Extracts parts of a time point or time interval. Returns the part as a long value. E.g. <code>'2006-06-05'.toDate.extract(DAY)</code> leads to 5.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TIMEPOINT</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">TIMEINTERVALUNIT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point down to the given unit. E.g. <code>'12:44:31'.toDate.floor(MINUTE)</code> leads to 12:44:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TIMEPOINT</span><span class="o">.</span><span class="na">ceil</span><span class="o">(</span><span class="n">TIMEINTERVALUNIT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point up to the given unit. E.g. <code>'12:44:31'.toTime.floor(MINUTE)</code> leads to 12:45:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">temporalOverlaps</span><span class="o">(</span><span class="n">TIMEPOINT</span><span class="o">,</span> <span class="n">TEMPORAL</span><span class="o">,</span> <span class="n">TIMEPOINT</span><span class="o">,</span> <span class="n">TEMPORAL</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Determines whether two anchored time intervals overlap. Time point and temporal are transformed into a range defined by two time points (start, end). The function evaluates <code>leftEnd &gt;= rightStart &amp;&amp; rightEnd &gt;= leftStart</code>. E.g. <code>temporalOverlaps("2:55:00".toTime, 1.hour, "3:30:00".toTime, 2.hour)</code> leads to true.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">dateFormat</span><span class="o">(</span><span class="n">TIMESTAMP</span><span class="o">,</span> <span class="n">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Formats <code>timestamp</code> as a string using a specified <code>format</code>. The format must be compatible with MySQL's date formatting syntax as used by the <code>date_parse</code> function. The format specification is given in the <a href="sql.html#date-format-specifier">Date Format Specifier table</a> below.</p>
        <p>For example <code>dateFormat(ts, '%Y, %d %M')</code> results in strings formatted as <code>"2017, 05 May"</code>.</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Aggregate functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">count</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the number of input rows for which the field is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">avg</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the average (arithmetic mean) of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">sum</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sum of the numeric field across all input values. If all values are null, null is returned.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">sum0</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sum of the numeric field across all input values. If all values are null, 0 is returned.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">max</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the maximum value of field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">min</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the minimum value of field across all input values.</p>
      </td>
    </tr>


    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">stddevPop</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the population standard deviation of the numeric field across all input values.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">stddevSamp</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sample standard deviation of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">varPop</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the population variance (square of the population standard deviation) of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">varSamp</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sample variance (square of the sample standard deviation) of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">collect</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Returns the multiset aggregate of the input value.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">concat_agg</span><span class="o">(</span><span class="n">sep</span><span class="o">)</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Concat all the column values to one string, will ignore null values, a separator can be specified.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">first_value</span><span class="o">()</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Fetch the first not null value of a group and return, if all the values are null, then return null.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">last_value</span><span class="o">()</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Fetch the last not null value of a group and return, if all the values are null, then return null.</p>
      </td>
    </tr>
    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Value access functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">COMPOSITE</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">STRING</span><span class="o">)</span>
<span class="n">COMPOSITE</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Accesses the field of a Flink composite type (such as Tuple, POJO, etc.) by index or name and returns it's value. E.g. <code>pojo.get('myField')</code> or <code>tuple.get(0)</code>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">flatten</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Converts a Flink composite type (such as Tuple, POJO, etc.) and all of its direct subtypes into a flat representation where every subtype is a separate field. In most cases the fields of the flat representation are named similarly to the original fields but with a dollar separator (e.g. <code>mypojo$mytuple$f0</code>).</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Array functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">array</span><span class="o">(</span><span class="n">ANY</span> <span class="o">[,</span> <span class="n">ANY</span> <span class="o">]*)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an array from a list of values. The array will be an array of objects (not primitives).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ARRAY</span><span class="o">.</span><span class="na">cardinality</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the number of elements of an array.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ARRAY</span><span class="o">.</span><span class="na">at</span><span class="o">(</span><span class="n">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the element at a particular position in an array. The index starts at 1.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ARRAY</span><span class="o">.</span><span class="na">element</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sole element of an array with a single element. Returns <code>null</code> if the array is empty. Throws an exception if the array has more than one element.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Map functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">map</span><span class="o">(</span><span class="n">ANY</span><span class="o">,</span> <span class="n">ANY</span> <span class="o">[,</span> <span class="n">ANY</span><span class="o">,</span> <span class="n">ANY</span> <span class="o">]*)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a map from a list of key-value pairs.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">MAP</span><span class="o">.</span><span class="na">cardinality</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the number of entries of a map.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">MAP</span><span class="o">.</span><span class="na">at</span><span class="o">(</span><span class="n">ANY</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the value specified by a particular key in a map.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Hash functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">md5</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the MD5 hash of the string argument as a string of 32 hexadecimal digits; null if <i>string</i> is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">sha1</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the SHA-1 hash of the string argument as a string of 40 hexadecimal digits; null if <i>string</i> is null.</p>
      </td>
    </tr>

        <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">STRING</span><span class="o">.</span><span class="na">sha256</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the SHA-256 hash of the string argument as a string of 64 hexadecimal digits; null if <i>string</i> is null.</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Row functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">row</span><span class="o">(</span><span class="n">ANY</span><span class="o">,</span> <span class="o">[,</span> <span class="n">ANY</span><span class="o">]*)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a row from a list of values. Row is composite type and can be access via <a href="tableApi.html#built-in-functions">value access functions</a>.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Auxiliary functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ANY</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="n">name</span> <span class="o">[,</span> <span class="n">name</span> <span class="o">]*</span> <span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Specifies a name for an expression i.e. a field. Additional names can be specified if the expression expands to multiple fields.</p>
      </td>
    </tr>

  </tbody>
</table>

  </div>
  <div data-lang="scala">

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Comparison functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

     <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span> <span class="o">===</span> <span class="nc">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Equals.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span> <span class="o">!==</span> <span class="nc">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Not equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span> <span class="o">&gt;</span> <span class="nc">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Greater than.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span> <span class="o">&gt;=</span> <span class="nc">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Greater than or equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span> <span class="o">&lt;</span> <span class="nc">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Less than.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span> <span class="o">&lt;=</span> <span class="nc">ANY</span></code></pre></figure>

      </td>
      <td>
        <p>Less than or equal.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">isNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">isNotNull</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given expression is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">like</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified LIKE pattern. E.g. "Jo_n%" matches all strings that start with "Jo(arbitrary letter)n".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">similar</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true, if a string matches the specified SQL regex pattern. E.g. "A+" matches all strings that consist of at least one "A".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">in</span><span class="o">(</span><span class="nc">ANY</span><span class="o">,</span> <span class="nc">ANY</span><span class="o">,</span> <span class="o">...)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if an expression exists in a given list of expressions. This is a shorthand for multiple OR conditions. If the testing set contains null, the result will be null if the element can not be found and true if it can be found. If element is null, the result is always null. E.g. "42".in(1, 2, 3) leads to false.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">in</span><span class="o">(</span><span class="nc">TABLE</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if an expression exists in a given table sub-query. The sub-query table must consist of one column. This column must have the same data type as the expression. Note: This operation is not supported in a streaming environment yet.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY1</span><span class="o">.</span><span class="n">between</span><span class="o">(</span><span class="nc">ANY2</span><span class="o">,</span> <span class="nc">ANY3</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns TRUE if <i>ANY1</i> is greater than or equal to <i>ANY2</i> and less than or equal to <i>ANY3</i>.
          When either <i>ANY2</i> or <i>ANY3</i> is NULL, returns FALSE or UNKNOWN.</p>
          <p>E.g., <code>12.between(15, 12)</code> returns FALSE;
          <code>12.between(10, Null(Types.INT))</code> returns UNKNOWN;
          <code>12.between(Null(Types.INT), 10)</code> returns FALSE.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY1</span><span class="o">.</span><span class="n">notBetween</span><span class="o">(</span><span class="nc">ANY2</span><span class="o">,</span> <span class="nc">ANY3</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns TRUE if <i>ANY1</i> is less than <i>ANY2</i> or greater than <i>ANY3</i>.
          When either <i>ANY2</i> or <i>ANY3</i> is NULL, returns TRUE or UNKNOWN.</p>
          <p>E.g., <code>12.notBetween(15, 12)</code> returns TRUE;
          <code>12.notBetween(Null(Types.INT), 15)</code> returns UNKNOWN;
          <code>12.notBetween(15, Null(Types.INT))</code> returns TRUE.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Logical functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">boolean1</span> <span class="o">||</span> <span class="n">boolean2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if <i>boolean1</i> is true or <i>boolean2</i> is true. Supports three-valued logic.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">boolean1</span> <span class="o">&amp;&amp;</span> <span class="n">boolean2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if <i>boolean1</i> and <i>boolean2</i> are both true. Supports three-valued logic.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="o">!</span><span class="nc">BOOLEAN</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if boolean expression is not true; returns null if boolean is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is true. False otherwise (for null and false).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is false. False otherwise (for null and true).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isNotTrue</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if the given boolean expression is not true (for null and false). False otherwise.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">BOOLEAN</span><span class="o">.</span><span class="n">isNotFalse</span></code></pre></figure>

      </td>
      <td>
        <p>Returns true if given boolean expression is not false (for null and true). False otherwise.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Arithmetic functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

   <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="o">+</span> <span class="n">numeric</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="o">-</span> <span class="n">numeric</span></code></pre></figure>

      </td>
      <td>
        <p>Returns negative <i>numeric</i>.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span> <span class="o">+</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> plus <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span> <span class="o">-</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> minus <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span> <span class="o">*</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> multiplied by <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span> <span class="o">/</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> divided by <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span><span class="o">.</span><span class="n">power</span><span class="o">(</span><span class="n">numeric2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns <i>numeric1</i> raised to the power of <i>numeric2</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">abs</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the absolute value of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span> <span class="o">%</span> <span class="n">numeric2</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the remainder (modulus) of <i>numeric1</i> divided by <i>numeric2</i>. The result is negative only if <i>numeric1</i> is negative.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">sqrt</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the square root of a given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">ln</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the natural logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">log10</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the base 10 logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">log2</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the base 2 logarithm of given value.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">numeric1</span><span class="o">.</span><span class="n">log</span><span class="o">()</span>
<span class="n">numeric1</span><span class="o">.</span><span class="n">log</span><span class="o">(</span><span class="n">numeric2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the logarithm of a given numeric value.</p>
        <p>If called without a parameter, this function returns the natural logarithm of <code>numeric1</code>. If called with a parameter <code>numeric2</code>, this function returns the logarithm of <code>numeric1</code> to the base <code>numeric2</code>. <code>numeric1</code> must be greater than 0. <code>numeric2</code> must be greater than 1.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">exp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the Euler's number raised to the given power.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">ceil</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the smallest integer greater than or equal to a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">floor</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the largest integer less than or equal to a given number.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">sin</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the sine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">cos</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the cosine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">tan</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the cotangent of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">sinh</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the hyperbolic sine of a given number.</p> 
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">cot</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the arc sine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">asin</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the arc cosine of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">acos</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the arc tangent of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">atan</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the tangent of a given number.</p>
      </td>
    </tr>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">atan2</span><span class="o">(</span><span class="nc">NUMERIC1</span><span class="o">,</span> <span class="nc">NUMERIC2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the arc tangent of a coordinate <i>(NUMERIC1, NUMERIC2)</i>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">cosh</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the hyperbolic cosine of <i>NUMERIC</i>.</p> 
        <p>Return value type is <i>DOUBLE</i>.</p>
      </td>
    </tr>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">tanh</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the hyperbolic tangent of a given number.</p> 
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">degrees</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Converts <i>numeric</i> from radians to degrees.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">radians</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Converts <i>numeric</i> from degrees to radians.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">sign</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Calculates the signum of a given number.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">round</span><span class="o">(</span><span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds the given number to <i>integer</i> places right to the decimal point.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">pi</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a value that is closer than any other value to pi.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">e</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a value that is closer than any other value to e.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">rand</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a pseudorandom double value between 0.0 (inclusive) and 1.0 (exclusive).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">rand</span><span class="o">(</span><span class="n">seed</span> <span class="n">integer</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a pseudorandom double value between 0.0 (inclusive) and 1.0 (exclusive) with a initial seed. Two rand functions will return identical sequences of numbers if they have same initial seed.</p>
      </td>
    </tr>

    <tr>
     <td>
       
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">randInteger</span><span class="o">(</span><span class="n">bound</span> <span class="n">integer</span><span class="o">)</span></code></pre></figure>

     </td>
    <td>
      <p>Returns a pseudorandom integer value between 0.0 (inclusive) and the specified value (exclusive).</p>
    </td>
   </tr>

    <tr>
     <td>
       
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">randInteger</span><span class="o">(</span><span class="n">seed</span> <span class="n">integer</span><span class="o">,</span> <span class="n">bound</span> <span class="n">integer</span><span class="o">)</span></code></pre></figure>

     </td>
    <td>
      <p>Returns a pseudorandom integer value between 0.0 (inclusive) and the specified value (exclusive) with a initial seed. Two randInteger functions will return identical sequences of numbers if they have same initial seed and same bound.</p>
    </td>
   </tr>

    <tr>
     <td>
       
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">bin</span><span class="o">()</span></code></pre></figure>

     </td>
    <td>
      <p>Returns a string representation of an integer numeric value in binary format. Returns null if <i>numeric</i> is null. E.g. "4" leads to "100", "12" leads to "1100".</p>
    </td>
   </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Arithmetic functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span> <span class="o">+</span> <span class="nc">STRING</span></code></pre></figure>

      </td>
      <td>
        <p>Concatenates two character strings.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">charLength</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the length of a String.</p>
      </td>
    </tr> 

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">upperCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in upper case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">lowerCase</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns all of the characters in a string in lower case using the rules of the default locale.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">position</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the position of string in an other string starting at 1. Returns 0 if string could not be found. E.g. <code>"a".position("bbbbba")</code> leads to 6.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">trim</span><span class="o">(</span>
  <span class="n">leading</span> <span class="k">=</span> <span class="kc">true</span><span class="o">,</span>
  <span class="n">trailing</span> <span class="k">=</span> <span class="kc">true</span><span class="o">,</span>
  <span class="n">character</span> <span class="k">=</span> <span class="s">" "</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Removes leading and/or trailing characters from the given string.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">overlay</span><span class="o">(</span><span class="nc">STRING</span><span class="o">,</span> <span class="nc">INT</span><span class="o">)</span>
<span class="nc">STRING</span><span class="o">.</span><span class="n">overlay</span><span class="o">(</span><span class="nc">STRING</span><span class="o">,</span> <span class="nc">INT</span><span class="o">,</span> <span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Replaces a substring of string with a string starting at a position (starting at 1). An optional length specifies how many characters should be removed. E.g. <code>"xxxxxtest".overlay("xxxx", 6)</code> leads to "xxxxxxxxx", <code>"xxxxxtest".overlay('xxxx', 6, 2)</code> leads to "xxxxxxxxxst".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">substring</span><span class="o">(</span><span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string beginning at the given index to the end. The start index starts at 1 and is inclusive.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">substring</span><span class="o">(</span><span class="nc">INT</span><span class="o">,</span> <span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a substring of the given string at the given index for the given length. The index starts at 1 and is inclusive, i.e., the character at the index is included in the substring. The substring has the specified length or less.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">initCap</span><span class="o">()</span></code></pre></figure>

      </td>

      <td>
        <p>Converts the initial letter of each word in a string to uppercase. Assumes a string containing only [A-Za-z0-9], everything else is treated as whitespace.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">concat</span><span class="o">(</span><span class="nc">STRING1</span><span class="o">,</span> <span class="nc">STRING2</span><span class="o">,</span> <span class="o">...)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a string that concatenates <i>STRING1, STRING2, ...</i>. Returns NULL if any argument is NULL.</p>
        <p>E.g., <code>concat("AA", "BB", "CC")</code> returns "AABBCC".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">concat_ws</span><span class="o">(</span><span class="nc">STRING1</span><span class="o">,</span> <span class="nc">STRING2</span><span class="o">,</span> <span class="nc">STRING3</span><span class="o">,</span> <span class="o">...)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a string that concatenates <i>STRING2, STRING3, ...</i> with a separator <i>STRING1</i>. The separator is added between the strings to be concatenated. Returns NULL If <i>STRING1</i> is NULL. Compared with <code>concat()</code>, <code>concat_ws()</code> automatically skips NULL arguments.</p> 
        <p>E.g., <code>concat_ws("~", "AA", Null(Types.STRING), "BB", "", "CC")</code> returns "AA~BB~~CC".</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING1</span><span class="o">.</span><span class="n">lpad</span><span class="o">(</span><span class="nc">INT</span><span class="o">,</span> <span class="nc">STRING2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a new string from <i>STRING1</i> left-padded with <i>STRING2</i> to a length of <i>INT</i> characters. If the length of <i>STRING1</i> is shorter than <i>INT</i>, returns <i>STRING1</i> shortened to <i>INT</i> characters.</p> 
        <p>E.g., <code>"hi".lpad(4, "??")</code> returns "??hi";  <code>"hi".lpad(1, "??")</code> returns "h".</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING1</span><span class="o">.</span><span class="n">rpad</span><span class="o">(</span><span class="nc">INT</span><span class="o">,</span> <span class="nc">STRING2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns a new string from <i>STRING1</i> right-padded with <i>STRING2</i> to a length of <i>INT</i> characters. If the length of <i>STRING1</i> is shorter than <i>INT</i>, returns <i>STRING1</i> shortened to <i>INT</i> characters.</p> 
        <p>E.g., <code>"hi".rpad(4, "??")</code> returns "hi??";  <code>"hi".rpad(1, "??")</code> returns "h".</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">fromBase64</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the base64-decoded result from <i>STRING</i>; returns null If <i>STRING</i> is NULL.</p> 
        <p>E.g., <code>"aGVsbG8gd29ybGQ=".fromBase64()</code> returns "hello world".</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toBase64</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the base64-encoded result from <i>STRING</i>; returns NULL if <i>STRING</i> is NULL.</p>
         <p>E.g., <code>"hello world".toBase64()</code> returns "aGVsbG8gd29ybGQ=".</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Conditional functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">BOOLEAN</span><span class="o">.?(</span><span class="n">value1</span><span class="o">,</span> <span class="n">value2</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Ternary conditional operator that decides which of two other expressions should be evaluated based on a evaluated boolean condition. E.g. <code>(42 &gt; 5).?("A", "B")</code> leads to "A".</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Type conversion functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">cast</span><span class="o">(</span><span class="nc">TYPE</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Converts a value to a given type. E.g. <code>"42".cast(Types.INT)</code> leads to 42.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Value constructor functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">rows</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of rows.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Temporal functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toDate</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a date string in the form "yy-mm-dd" to a SQL date.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toTime</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a time string in the form "hh:mm:ss" to a SQL time.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">toTimestamp</span></code></pre></figure>

      </td>
      <td>
        <p>Parses a timestamp string in the form "yy-mm-dd hh:mm:ss.fff" to a SQL timestamp.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">year</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">years</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of years.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">quarter</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">quarters</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for <i>NUMERIC</i> quarters.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">month</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">months</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of months for a given number of months.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">week</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">weeks</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for <i>NUMERIC</i> weeks.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">day</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">days</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of days.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">hour</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">hours</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of hours.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">minute</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">minutes</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of minutes.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">second</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">seconds</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds for a given number of seconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">NUMERIC</span><span class="o">.</span><span class="n">milli</span>
<span class="nc">NUMERIC</span><span class="o">.</span><span class="n">millis</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an interval of milliseconds.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">currentDate</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL date in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">currentTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">currentTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in UTC time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">localTime</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL time in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">localTimestamp</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the current SQL timestamp in local time zone.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">TEMPORAL</span><span class="o">.</span><span class="n">extract</span><span class="o">(</span><span class="nc">TimeIntervalUnit</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Extracts parts of a time point or time interval. Returns the part as a long value. E.g. <code>"2006-06-05".toDate.extract(TimeIntervalUnit.DAY)</code> leads to 5.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">TIMEPOINT</span><span class="o">.</span><span class="n">floor</span><span class="o">(</span><span class="nc">TimeIntervalUnit</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point down to the given unit. E.g. <code>"12:44:31".toTime.floor(TimeIntervalUnit.MINUTE)</code> leads to 12:44:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">TIMEPOINT</span><span class="o">.</span><span class="n">ceil</span><span class="o">(</span><span class="nc">TimeIntervalUnit</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Rounds a time point up to the given unit. E.g. <code>"12:44:31".toTime.floor(TimeIntervalUnit.MINUTE)</code> leads to 12:45:00.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">temporalOverlaps</span><span class="o">(</span><span class="nc">TIMEPOINT</span><span class="o">,</span> <span class="nc">TEMPORAL</span><span class="o">,</span> <span class="nc">TIMEPOINT</span><span class="o">,</span> <span class="nc">TEMPORAL</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Determines whether two anchored time intervals overlap. Time point and temporal are transformed into a range defined by two time points (start, end). The function evaluates <code>leftEnd &gt;= rightStart &amp;&amp; rightEnd &gt;= leftStart</code>. E.g. <code>temporalOverlaps('2:55:00'.toTime, 1.hour, '3:30:00'.toTime, 2.hours)</code> leads to true.</p>
      </td>
    </tr>
    
  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Aggregate functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

   <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">count</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the number of input rows for which the field is not null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">avg</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the average (arithmetic mean) of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">sum</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sum of the numeric field across all input values. If all values are null, null is returned.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">sum0</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sum of the numeric field across all input values. If all values are null, 0 is returned.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">max</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the maximum value of field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">min</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the minimum value of field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">stddevPop</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the population standard deviation of the numeric field across all input values.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">stddevSamp</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sample standard deviation of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">varPop</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the population variance (square of the population standard deviation) of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">varSamp</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sample variance (square of the sample standard deviation) of the numeric field across all input values.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">FIELD</span><span class="o">.</span><span class="n">collect</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Returns the multiset aggregate of the input value.</p>
      </td>
    </tr>
  </tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">FIELD</span><span class="o">.</span><span class="na">concat_agg</span><span class="o">(</span><span class="n">sep</span><span class="o">)</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Concat all the column values to one string, will ignore null values, a separator can be specified.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">first_value</span><span class="o">()</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Fetch the first not null value of a group and return, if all the values are null, then return null.</p>
      </td>
    </tr>
    
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">last_value</span><span class="o">()</span>
        </code></pre></figure>

      </td>
      <td>
        <p>Fetch the last not null value of a group and return, if all the values are null, then return null.</p>
      </td>
    </tr>      
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Value access functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">COMPOSITE</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">STRING</span><span class="o">)</span>
<span class="nc">COMPOSITE</span><span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Accesses the field of a Flink composite type (such as Tuple, POJO, etc.) by index or name and returns it's value. E.g. <code>'pojo.get("myField")</code> or <code>'tuple.get(0)</code>.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">flatten</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Converts a Flink composite type (such as Tuple, POJO, etc.) and all of its direct subtypes into a flat representation where every subtype is a separate field. In most cases the fields of the flat representation are named similarly to the original fields but with a dollar separator (e.g. <code>mypojo$mytuple$f0</code>).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">dateFormat</span><span class="o">(</span><span class="nc">TIMESTAMP</span><span class="o">,</span> <span class="nc">STRING</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Formats <code>timestamp</code> as a string using a specified <code>format</code>. The format must be compatible with MySQL's date formatting syntax as used by the <code>date_parse</code> function. The format specification is given in the <a href="sql.html#date-format-specifier">Date Format Specifier table</a> below.</p>
        <p>For example <code>dateFormat('ts, "%Y, %d %M")</code> results in strings formatted as <code>"2017, 05 May"</code>.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Array functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">array</span><span class="o">(</span><span class="nc">ANY</span> <span class="o">[</span>, <span class="kt">ANY</span> <span class="o">]*)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates an array from a list of values. The array will be an array of objects (not primitives).</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ARRAY</span><span class="o">.</span><span class="n">cardinality</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the number of elements of an array.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ARRAY</span><span class="o">.</span><span class="n">at</span><span class="o">(</span><span class="nc">INT</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the element at a particular position in an array. The index starts at 1.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ARRAY</span><span class="o">.</span><span class="n">element</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the sole element of an array with a single element. Returns <code>null</code> if the array is empty. Throws an exception if the array has more than one element.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Map functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">map</span><span class="o">(</span><span class="nc">ANY</span><span class="o">,</span> <span class="nc">ANY</span> <span class="o">[</span>, <span class="kt">ANY</span>, <span class="kt">ANY</span> <span class="o">]*)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a map from a list of key-value pairs.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">MAP</span><span class="o">.</span><span class="n">cardinality</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the number of entries of a map.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">MAP</span><span class="o">.</span><span class="n">at</span><span class="o">(</span><span class="nc">ANY</span><span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the value specified by a particular key in a map.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Hash functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  
  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">md5</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the MD5 hash of the string argument as a string of 32 hexadecimal digits; null if <i>string</i> is null.</p>
      </td>
    </tr>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">sha1</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the SHA-1 hash of the string argument as a string of 40 hexadecimal digits; null if <i>string</i> is null.</p>
      </td>
    </tr>

        <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">STRING</span><span class="o">.</span><span class="n">sha256</span><span class="o">()</span></code></pre></figure>

      </td>
      <td>
        <p>Returns the SHA-256 hash of the string argument as a string of 64 hexadecimal digits; null if <i>string</i> is null.</p>
      </td>
    </tr>

    </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Row functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>

    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">row</span><span class="o">(</span><span class="nc">ANY</span><span class="o">,</span> <span class="o">[</span>, <span class="kt">ANY</span><span class="o">]*)</span></code></pre></figure>

      </td>
      <td>
        <p>Creates a row from a list of values. Row is composite type and can be access via <a href="tableApi.html#built-in-functions">value access functions</a>.</p>
      </td>
    </tr>

  </tbody>
</table>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-left" style="width: 40%">Auxiliary functions</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        
<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ANY</span><span class="o">.</span><span class="n">as</span><span class="o">(</span><span class="n">name</span> <span class="o">[</span>, <span class="kt">name</span> <span class="o">]*</span> <span class="o">)</span></code></pre></figure>

      </td>
      <td>
        <p>Specifies a name for an expression i.e. a field. Additional names can be specified if the expression expands to multiple fields.</p>
      </td>
    </tr>

  </tbody>
</table>
  </div>

</div>

<h3 id="unsupported-functions">Unsupported Functions</h3>

<p>The following operations are not supported yet:</p>

<ul>
  <li>Binary string operators and functions</li>
  <li>System functions</li>
  <li>Aggregate functions like REGR_xxx</li>
</ul>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>

<h2 id="cached-table-and-interactive-programming">Cached Table and Interactive Programming</h2>
<p>Users may often find that their program consists of multiple jobs. The logic of the later jobs may
depend on the result of the previous jobs. This is especially a common case in case of batch jobs.
Flink Table API supports such use cases efficiently by providing a <code class="highlighter-rouge">cache()</code> method.</p>

<h3 id="cache-a-table">Cache a Table</h3>
<p>Users may invoke <code class="highlighter-rouge">cache()</code> method on a Flink Table to hint Flink to cache that table for later 
usage. This will avoid unnecessary computations when the cached table is involved into a later job.
The following code snippet gives an example.</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// environment configuration</span>
<span class="n">ExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">ExecutionEnvironment</span><span class="o">.</span><span class="na">getExecutionEnvironment</span><span class="o">();</span>
<span class="n">BatchTableEnvironment</span> <span class="n">tEnv</span> <span class="o">=</span> <span class="n">TableEnvironment</span><span class="o">.</span><span class="na">getBatchTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">);</span>

<span class="c1">// register Orders table in table environment</span>
<span class="c1">// ...</span>

<span class="c1">// specify table program</span>
<span class="n">Table</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="na">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">);</span> <span class="c1">// schema (a, b, c, rowtime)</span>

<span class="n">Table</span> <span class="n">counts</span> <span class="o">=</span> <span class="n">orders</span>
        <span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="s">"a"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">"a, b.count as cnt"</span><span class="o">);</span>

<span class="c1">// cache the counts</span>
<span class="n">counts</span><span class="o">.</span><span class="na">cache</span><span class="o">();</span>

<span class="c1">// print the high sales; counts is computed for the first time and is cached hereafter</span>
<span class="n">counts</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">"cnt &gt; 10000"</span><span class="o">).</span><span class="na">print</span><span class="o">();</span>

<span class="c1">// print the low sales; counts does not need to be recomputed.</span>
<span class="n">counts</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">"cnt &lt; 10"</span><span class="o">).</span><span class="na">print</span><span class="o">();</span></code></pre></figure>

  </div>

  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.flink.api.scala._</span>
<span class="k">import</span> <span class="nn">org.apache.flink.table.api.scala._</span>

<span class="c1">// environment configuration
</span><span class="k">val</span> <span class="n">env</span> <span class="k">=</span> <span class="nc">StreamExecutionEnvironment</span><span class="o">.</span><span class="n">getExecutionEnvironment</span>
<span class="k">val</span> <span class="n">tEnv</span> <span class="k">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="n">getBatchTableEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">)</span>

<span class="c1">// register Orders table in table environment
// ...
</span>
<span class="c1">// specify table program
</span><span class="k">val</span> <span class="n">orders</span> <span class="k">=</span> <span class="n">tEnv</span><span class="o">.</span><span class="n">scan</span><span class="o">(</span><span class="s">"Orders"</span><span class="o">)</span> <span class="c1">// schema (a, b, c, rowtime)
</span>
<span class="k">val</span> <span class="n">counts</span> <span class="k">=</span> <span class="n">orders</span>
               <span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="ss">'a)</span>
               <span class="o">.</span><span class="n">select</span><span class="o">(</span><span class="ss">'a,</span> <span class="ss">'b.</span><span class="n">count</span> <span class="n">as</span> <span class="ss">'cnt)</span>

<span class="c1">// cache the counts
</span><span class="n">counts</span><span class="o">.</span><span class="n">cache</span><span class="o">()</span>

<span class="c1">// print the high sales; counts is computed for the first time and is cached hereafter
</span><span class="n">counts</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="ss">'cnt </span><span class="o">&gt;</span> <span class="mi">10000</span><span class="o">).</span><span class="n">print</span><span class="o">()</span>

<span class="c1">// print the low sales; counts does not need to be recomputed.
</span><span class="n">counts</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="ss">'cnt </span><span class="o">&lt;</span> <span class="mi">10</span><span class="o">).</span><span class="n">print</span><span class="o">()</span>          </code></pre></figure>

  </div>
</div>

<p>In the above example, after <code class="highlighter-rouge">counts</code> table is generated, it could be reused without being
regenerated. <code class="highlighter-rouge">SimpleInteractiveExample</code> gives an example of using the cache() method. Users may 
run the example using <a href="/ops/cli.html">command line tool</a> (assuming a 
<a href="/ops/deployment/cluster_setup.html">standalone cluster</a> has already started):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ./bin/flink run -m myHost:8081 examples/table/Interactive.jar
</code></pre></div></div>

<p><strong>Note</strong></p>
<ul>
  <li>The caches are created lazily. More specifically, they are created when the table to be cached 
is generated for the very first time.</li>
  <li>Even when a table is cached, Flink may still decide to ignore the cache if doing that results 
in a faster execution.</li>
  <li>In some cases, it is possible that a cache created earlier is no longer available when it is 
used later in the code. When that happens, Flink will regenerate the table to be cached from its 
original DAG and cache the table again.</li>
</ul>

<h4 id="prerequisite-to-use-cached-tables-in-a-distributed-environment">Prerequisite to use cached Tables in a distributed environment</h4>
<p>When using cached tables in a distributed environment, current default implementation of the 
underlying table cache relies on <a href="http://zookeeper.apache.org/">Apache Zookeeper</a> for service 
discovery. In order to use the cached table in a distributed environment, users needs to provide 
a Zookeeper ensemble. And the following configurations needs to be set along with other 
<a href="/ops/config.html">Configurations</a>.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>flink.service.registry.class: org.apache.flink.service.impl.ZookeeperRegistry
flink.service.registry.zookeeper.quorum: ZK_QUORUM_ADDRESS:ZK_QUORUM_PORT
flink.service.registry.zookeeper.rootpath: YOUR_ROOT_PATH_FOR_FLINK_TABLE_SERVICE
</code></pre></div></div>

<h4 id="lifecycle-of-table-caches">Lifecycle of Table Caches</h4>
<p>Table caches are available throughout the lifecycle of the <code class="highlighter-rouge">TableEnvironment</code>. <em>Users should close
the Table environment to avoid leaking remote resources</em>. It is recommended to always invoke
<code class="highlighter-rouge">TableEnvironment.close()</code> in a finally block.</p>


        </div>
      </div>
    </div><!-- /.container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//flink-china.org/doc/blink/page/js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script>
    <script src="//flink-china.org/doc/blink/page/js/flink.js"></script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52545728-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Disqus -->
    
  </body>
</html>
